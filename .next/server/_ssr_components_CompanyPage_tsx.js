"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_ssr_components_CompanyPage_tsx";
exports.ids = ["_ssr_components_CompanyPage_tsx"];
exports.modules = {

/***/ "(ssr)/./components/CompanyPage.tsx":
/*!************************************!*\
  !*** ./components/CompanyPage.tsx ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_companyUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/companyUtils */ \"(ssr)/./lib/companyUtils.ts\");\n/* harmony import */ var _lib_redFlags__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/redFlags */ \"(ssr)/./lib/redFlags.ts\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/alert-triangle.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/building-2.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/bar-chart-3.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/trending-up.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/heart.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=AlertTriangle,ArrowLeft,BarChart3,Building2,Clock,Eye,Heart,TrendingUp,Users!=!lucide-react */ \"(ssr)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \n\n\n\n\nconst CompanyPage = ({ companyName, onBack })=>{\n    const [insights, setInsights] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setLoading(true);\n        // Always refresh companies to get latest data\n        _lib_companyUtils__WEBPACK_IMPORTED_MODULE_2__.companyService.refreshCompanies().then(()=>{\n            return _lib_companyUtils__WEBPACK_IMPORTED_MODULE_2__.companyService.searchCompanies(companyName, 1);\n        }).then((results)=>{\n            setInsights(results[0] || null);\n            setLoading(false);\n        });\n    }, [\n        companyName\n    ]);\n    // Get the 3 most common flags with their details\n    const topFlags = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!insights?.commonFlags || insights.commonFlags.length === 0) {\n            return [];\n        }\n        // Count frequency of each flag\n        const flagCounts = insights.commonFlags.reduce((acc, flagId)=>{\n            acc[flagId] = (acc[flagId] || 0) + 1;\n            return acc;\n        }, {});\n        // Get flag details and sort by frequency\n        const flagDetails = Object.entries(flagCounts).map(([flagId, count])=>{\n            const flag = _lib_redFlags__WEBPACK_IMPORTED_MODULE_3__.redFlags.find((f)=>f.id === flagId);\n            return flag ? {\n                ...flag,\n                count\n            } : null;\n        }).filter((f)=>Boolean(f)).sort((a, b)=>(b?.count || 0) - (a?.count || 0)).slice(0, 3);\n        return flagDetails;\n    }, [\n        insights\n    ]);\n    // Format the last updated date properly\n    const formatLastUpdated = (lastSubmission)=>{\n        if (!lastSubmission) return \"N/A\";\n        try {\n            // Handle different date formats\n            let date;\n            if (lastSubmission.seconds) {\n                // Firestore timestamp\n                date = new Date(lastSubmission.seconds * 1000);\n            } else if (lastSubmission.toDate) {\n                // Firestore timestamp object\n                date = lastSubmission.toDate();\n            } else if (typeof lastSubmission === \"string\") {\n                // ISO string\n                date = new Date(lastSubmission);\n            } else {\n                // Try to parse as Date\n                date = new Date(lastSubmission);\n            }\n            if (isNaN(date.getTime())) {\n                return \"N/A\";\n            }\n            return date.toLocaleDateString(\"en-US\", {\n                year: \"numeric\",\n                month: \"short\",\n                day: \"numeric\"\n            });\n        } catch (error) {\n            console.error(\"Error formatting date:\", error);\n            return \"N/A\";\n        }\n    };\n    const getSeverityColor = (severity)=>{\n        switch(severity){\n            case \"medium\":\n                return \"border-orange-500 bg-orange-50\";\n            case \"light\":\n                return \"border-yellow-500 bg-yellow-50\";\n            default:\n                return \"border-gray-500 bg-gray-50\";\n        }\n    };\n    const getSeverityIcon = (severity)=>{\n        switch(severity){\n            case \"medium\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"w-4 h-4 text-orange-600\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                    lineNumber: 103,\n                    columnNumber: 16\n                }, undefined);\n            case \"light\":\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    className: \"w-4 h-4 text-yellow-600\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                    lineNumber: 105,\n                    columnNumber: 16\n                }, undefined);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                    className: \"w-4 h-4 text-gray-600\"\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                    lineNumber: 107,\n                    columnNumber: 16\n                }, undefined);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"max-w-4xl mx-auto px-4 py-8\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                onClick: onBack,\n                className: \"mb-6 flex items-center text-blue-600 hover:underline\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                        className: \"w-5 h-5 mr-2\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                        lineNumber: 117,\n                        columnNumber: 9\n                    }, undefined),\n                    \" Back to Results\"\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                lineNumber: 113,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white rounded-xl shadow-lg p-8\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-2xl font-bold mb-6 text-gray-900 flex items-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                className: \"w-7 h-7 text-orange-500 mr-3\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 11\n                            }, undefined),\n                            companyName\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                        lineNumber: 121,\n                        columnNumber: 9\n                    }, undefined),\n                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-gray-500 mt-4\",\n                        children: \"Loading insights...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                        lineNumber: 127,\n                        columnNumber: 11\n                    }, undefined) : insights ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"space-y-8\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"grid grid-cols-1 md:grid-cols-3 gap-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-blue-50 rounded-lg p-4 text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"w-8 h-8 text-blue-500 mx-auto mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 133,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl font-bold text-blue-600\",\n                                                children: insights.submissionCount || 0\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 134,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-blue-700\",\n                                                children: \"Checkups Submitted\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 137,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 132,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-purple-50 rounded-lg p-4 text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-8 h-8 text-purple-500 mx-auto mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 141,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl font-bold text-purple-600\",\n                                                children: insights.averageFlagCount?.toFixed(1) || \"0.0\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 142,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-purple-700\",\n                                                children: \"Avg Flags per Checkup\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 145,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 140,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"bg-red-50 rounded-lg p-4 text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                className: \"w-8 h-8 text-red-500 mx-auto mb-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 149,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl font-bold text-red-600\",\n                                                children: insights.severityTrends?.medium || 0\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 150,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-sm text-red-700\",\n                                                children: \"Medium Severity Flags\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 153,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 148,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                lineNumber: 131,\n                                columnNumber: 13\n                            }, undefined),\n                            topFlags.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-semibold text-gray-800 mb-4 flex items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"w-5 h-5 text-green-500 mr-2\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 161,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            \"Most Common Red Flags\"\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 160,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-1 md:grid-cols-3 gap-4\",\n                                        children: topFlags.map((flag, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `border-2 rounded-lg p-4 ${getSeverityColor(flag?.severity || \"light\")}`,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-start justify-between mb-3\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs font-semibold text-gray-600 bg-white px-2 py-1 rounded\",\n                                                                children: [\n                                                                    \"#\",\n                                                                    index + 1,\n                                                                    \" â€¢ \",\n                                                                    flag?.count,\n                                                                    \" time\",\n                                                                    flag?.count !== 1 ? \"s\" : \"\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                                lineNumber: 168,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            getSeverityIcon(flag?.severity || \"light\")\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 167,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-gray-800 font-medium text-sm mb-2\",\n                                                        children: flag?.text\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 173,\n                                                        columnNumber: 23\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex items-center justify-between text-xs text-gray-600\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"capitalize\",\n                                                                children: flag?.category\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                                lineNumber: 177,\n                                                                columnNumber: 25\n                                                            }, undefined),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"capitalize\",\n                                                                children: flag?.severity\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                                lineNumber: 178,\n                                                                columnNumber: 25\n                                                            }, undefined)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 176,\n                                                        columnNumber: 23\n                                                    }, undefined)\n                                                ]\n                                            }, flag?.id, true, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 166,\n                                                columnNumber: 21\n                                            }, undefined))\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 164,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                lineNumber: 159,\n                                columnNumber: 15\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-gray-50 rounded-lg p-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                        className: \"text-lg font-semibold text-gray-800 mb-3\",\n                                        children: \"Severity Breakdown\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 188,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 bg-yellow-500 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 191,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-gray-700\",\n                                                        children: [\n                                                            \"Light: \",\n                                                            insights.severityTrends?.light || 0\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 192,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 190,\n                                                columnNumber: 17\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center space-x-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-4 h-4 bg-orange-500 rounded-full\"\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 197,\n                                                        columnNumber: 19\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-gray-700\",\n                                                        children: [\n                                                            \"Medium: \",\n                                                            insights.severityTrends?.medium || 0\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                        lineNumber: 198,\n                                                        columnNumber: 19\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                                lineNumber: 196,\n                                                columnNumber: 17\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 189,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                lineNumber: 187,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-3 text-sm text-gray-600\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-4 h-4\"\n                                    }, void 0, false, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 207,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                        children: [\n                                            \"Last updated: \",\n                                            formatLastUpdated(insights.lastSubmission)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                        lineNumber: 208,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                lineNumber: 206,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                        lineNumber: 129,\n                        columnNumber: 11\n                    }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-gray-500 mt-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center py-8\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_AlertTriangle_ArrowLeft_BarChart3_Building2_Clock_Eye_Heart_TrendingUp_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                    className: \"w-12 h-12 text-gray-300 mx-auto mb-4\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                    lineNumber: 216,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                    className: \"text-lg font-medium text-gray-600 mb-2\",\n                                    children: \"No insights available yet\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                    lineNumber: 217,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-gray-500\",\n                                    children: [\n                                        \"Be the first to submit a checkup for \",\n                                        companyName,\n                                        \"!\"\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                                    lineNumber: 218,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                            lineNumber: 215,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n                lineNumber: 120,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\bread\\\\Documents\\\\git-projects\\\\Did-I-Dodge-a-Bullet\\\\components\\\\CompanyPage.tsx\",\n        lineNumber: 112,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CompanyPage);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9jb21wb25lbnRzL0NvbXBhbnlQYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUU0RDtBQUNSO0FBQ0Q7QUFDMkU7QUFPOUgsTUFBTWUsY0FBYyxDQUFDLEVBQUVDLFdBQVcsRUFBRUMsTUFBTSxFQUFvQjtJQUM1RCxNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR2pCLCtDQUFRQSxDQUFNO0lBQzlDLE1BQU0sQ0FBQ2tCLFNBQVNDLFdBQVcsR0FBR25CLCtDQUFRQSxDQUFDO0lBRXZDRCxnREFBU0EsQ0FBQztRQUNSb0IsV0FBVztRQUNYLDhDQUE4QztRQUM5Q2pCLDZEQUFjQSxDQUFDa0IsZ0JBQWdCLEdBQUdDLElBQUksQ0FBQztZQUNyQyxPQUFPbkIsNkRBQWNBLENBQUNvQixlQUFlLENBQUNSLGFBQWE7UUFDckQsR0FBR08sSUFBSSxDQUFDLENBQUNFO1lBQ1BOLFlBQVlNLE9BQU8sQ0FBQyxFQUFFLElBQUk7WUFDMUJKLFdBQVc7UUFDYjtJQUNGLEdBQUc7UUFBQ0w7S0FBWTtJQUVoQixpREFBaUQ7SUFDakQsTUFBTVUsV0FBV3ZCLDhDQUFPQSxDQUFDO1FBQ3ZCLElBQUksQ0FBQ2UsVUFBVVMsZUFBZVQsU0FBU1MsV0FBVyxDQUFDQyxNQUFNLEtBQUssR0FBRztZQUMvRCxPQUFPLEVBQUU7UUFDWDtRQUVBLCtCQUErQjtRQUMvQixNQUFNQyxhQUFhWCxTQUFTUyxXQUFXLENBQUNHLE1BQU0sQ0FBQyxDQUFDQyxLQUE2QkM7WUFDM0VELEdBQUcsQ0FBQ0MsT0FBTyxHQUFHLENBQUNELEdBQUcsQ0FBQ0MsT0FBTyxJQUFJLEtBQUs7WUFDbkMsT0FBT0Q7UUFDVCxHQUFHLENBQUM7UUFFSix5Q0FBeUM7UUFDekMsTUFBTUUsY0FBY0MsT0FBT0MsT0FBTyxDQUFDTixZQUNoQ08sR0FBRyxDQUFDLENBQUMsQ0FBQ0osUUFBUUssTUFBTTtZQUNuQixNQUFNQyxPQUFPakMsbURBQVFBLENBQUNrQyxJQUFJLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLEVBQUUsS0FBS1Q7WUFDekMsT0FBT00sT0FBTztnQkFBRSxHQUFHQSxJQUFJO2dCQUFFRDtZQUFNLElBQUk7UUFDckMsR0FDQ0ssTUFBTSxDQUFDLENBQUNGLElBQXdDRyxRQUFRSCxJQUN4REksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU0sQ0FBQ0EsR0FBR1QsU0FBUyxLQUFNUSxDQUFBQSxHQUFHUixTQUFTLElBQzlDVSxLQUFLLENBQUMsR0FBRztRQUVaLE9BQU9kO0lBQ1QsR0FBRztRQUFDZjtLQUFTO0lBRWIsd0NBQXdDO0lBQ3hDLE1BQU04QixvQkFBb0IsQ0FBQ0M7UUFDekIsSUFBSSxDQUFDQSxnQkFBZ0IsT0FBTztRQUU1QixJQUFJO1lBQ0YsZ0NBQWdDO1lBQ2hDLElBQUlDO1lBQ0osSUFBSUQsZUFBZUUsT0FBTyxFQUFFO2dCQUMxQixzQkFBc0I7Z0JBQ3RCRCxPQUFPLElBQUlFLEtBQUtILGVBQWVFLE9BQU8sR0FBRztZQUMzQyxPQUFPLElBQUlGLGVBQWVJLE1BQU0sRUFBRTtnQkFDaEMsNkJBQTZCO2dCQUM3QkgsT0FBT0QsZUFBZUksTUFBTTtZQUM5QixPQUFPLElBQUksT0FBT0osbUJBQW1CLFVBQVU7Z0JBQzdDLGFBQWE7Z0JBQ2JDLE9BQU8sSUFBSUUsS0FBS0g7WUFDbEIsT0FBTztnQkFDTCx1QkFBdUI7Z0JBQ3ZCQyxPQUFPLElBQUlFLEtBQUtIO1lBQ2xCO1lBRUEsSUFBSUssTUFBTUosS0FBS0ssT0FBTyxLQUFLO2dCQUN6QixPQUFPO1lBQ1Q7WUFFQSxPQUFPTCxLQUFLTSxrQkFBa0IsQ0FBQyxTQUFTO2dCQUN0Q0MsTUFBTTtnQkFDTkMsT0FBTztnQkFDUEMsS0FBSztZQUNQO1FBQ0YsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQywwQkFBMEJBO1lBQ3hDLE9BQU87UUFDVDtJQUNGO0lBRUEsTUFBTUUsbUJBQW1CLENBQUNDO1FBQ3hCLE9BQVFBO1lBQ04sS0FBSztnQkFDSCxPQUFPO1lBQ1QsS0FBSztnQkFDSCxPQUFPO1lBQ1Q7Z0JBQ0UsT0FBTztRQUNYO0lBQ0Y7SUFFQSxNQUFNQyxrQkFBa0IsQ0FBQ0Q7UUFDdkIsT0FBUUE7WUFDTixLQUFLO2dCQUNILHFCQUFPLDhEQUFDbEQsd0pBQWFBO29CQUFDb0QsV0FBVTs7Ozs7O1lBQ2xDLEtBQUs7Z0JBQ0gscUJBQU8sOERBQUNuRCx3SkFBS0E7b0JBQUNtRCxXQUFVOzs7Ozs7WUFDMUI7Z0JBQ0UscUJBQU8sOERBQUNwRCx3SkFBYUE7b0JBQUNvRCxXQUFVOzs7Ozs7UUFDcEM7SUFDRjtJQUVBLHFCQUNFLDhEQUFDQztRQUFJRCxXQUFVOzswQkFDYiw4REFBQ0U7Z0JBQ0NDLFNBQVNuRDtnQkFDVGdELFdBQVU7O2tDQUVWLDhEQUFDdEQsd0pBQVNBO3dCQUFDc0QsV0FBVTs7Ozs7O29CQUFpQjs7Ozs7OzswQkFHeEMsOERBQUNDO2dCQUFJRCxXQUFVOztrQ0FDYiw4REFBQ0k7d0JBQUdKLFdBQVU7OzBDQUNaLDhEQUFDM0Qsd0pBQVNBO2dDQUFDMkQsV0FBVTs7Ozs7OzRCQUNwQmpEOzs7Ozs7O29CQUdGSSx3QkFDQyw4REFBQzhDO3dCQUFJRCxXQUFVO2tDQUFxQjs7Ozs7b0NBQ2xDL0MseUJBQ0YsOERBQUNnRDt3QkFBSUQsV0FBVTs7MENBRWIsOERBQUNDO2dDQUFJRCxXQUFVOztrREFDYiw4REFBQ0M7d0NBQUlELFdBQVU7OzBEQUNiLDhEQUFDdkQsd0pBQVNBO2dEQUFDdUQsV0FBVTs7Ozs7OzBEQUNyQiw4REFBQ0M7Z0RBQUlELFdBQVU7MERBQ1ovQyxTQUFTb0QsZUFBZSxJQUFJOzs7Ozs7MERBRS9CLDhEQUFDSjtnREFBSUQsV0FBVTswREFBd0I7Ozs7Ozs7Ozs7OztrREFHekMsOERBQUNDO3dDQUFJRCxXQUFVOzswREFDYiw4REFBQ3pELHdKQUFVQTtnREFBQ3lELFdBQVU7Ozs7OzswREFDdEIsOERBQUNDO2dEQUFJRCxXQUFVOzBEQUNaL0MsU0FBU3FELGdCQUFnQixFQUFFQyxRQUFRLE1BQU07Ozs7OzswREFFNUMsOERBQUNOO2dEQUFJRCxXQUFVOzBEQUEwQjs7Ozs7Ozs7Ozs7O2tEQUczQyw4REFBQ0M7d0NBQUlELFdBQVU7OzBEQUNiLDhEQUFDeEQseUpBQUtBO2dEQUFDd0QsV0FBVTs7Ozs7OzBEQUNqQiw4REFBQ0M7Z0RBQUlELFdBQVU7MERBQ1ovQyxTQUFTdUQsY0FBYyxFQUFFQyxVQUFVOzs7Ozs7MERBRXRDLDhEQUFDUjtnREFBSUQsV0FBVTswREFBdUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs0QkFLekN2QyxTQUFTRSxNQUFNLEdBQUcsbUJBQ2pCLDhEQUFDc0M7O2tEQUNDLDhEQUFDUzt3Q0FBR1YsV0FBVTs7MERBQ1osOERBQUMxRCx5SkFBS0E7Z0RBQUMwRCxXQUFVOzs7Ozs7NENBQWdDOzs7Ozs7O2tEQUduRCw4REFBQ0M7d0NBQUlELFdBQVU7a0RBQ1p2QyxTQUFTVSxHQUFHLENBQUMsQ0FBQ0UsTUFBTXNDLHNCQUNuQiw4REFBQ1Y7Z0RBQW1CRCxXQUFXLENBQUMsd0JBQXdCLEVBQUVILGlCQUFpQnhCLE1BQU15QixZQUFZLFNBQVMsQ0FBQzs7a0VBQ3JHLDhEQUFDRzt3REFBSUQsV0FBVTs7MEVBQ2IsOERBQUNZO2dFQUFLWixXQUFVOztvRUFBaUU7b0VBQzdFVyxRQUFRO29FQUFFO29FQUFJdEMsTUFBTUQ7b0VBQU07b0VBQU1DLE1BQU1ELFVBQVUsSUFBSSxNQUFNOzs7Ozs7OzREQUU3RDJCLGdCQUFnQjFCLE1BQU15QixZQUFZOzs7Ozs7O2tFQUVyQyw4REFBQ2U7d0RBQUViLFdBQVU7a0VBQ1YzQixNQUFNeUM7Ozs7OztrRUFFVCw4REFBQ2I7d0RBQUlELFdBQVU7OzBFQUNiLDhEQUFDWTtnRUFBS1osV0FBVTswRUFBYzNCLE1BQU0wQzs7Ozs7OzBFQUNwQyw4REFBQ0g7Z0VBQUtaLFdBQVU7MEVBQWMzQixNQUFNeUI7Ozs7Ozs7Ozs7Ozs7K0NBWjlCekIsTUFBTUc7Ozs7Ozs7Ozs7Ozs7Ozs7MENBcUJ4Qiw4REFBQ3lCO2dDQUFJRCxXQUFVOztrREFDYiw4REFBQ1U7d0NBQUdWLFdBQVU7a0RBQTJDOzs7Ozs7a0RBQ3pELDhEQUFDQzt3Q0FBSUQsV0FBVTs7MERBQ2IsOERBQUNDO2dEQUFJRCxXQUFVOztrRUFDYiw4REFBQ0M7d0RBQUlELFdBQVU7Ozs7OztrRUFDZiw4REFBQ1k7d0RBQUtaLFdBQVU7OzREQUF3Qjs0REFDOUIvQyxTQUFTdUQsY0FBYyxFQUFFUSxTQUFTOzs7Ozs7Ozs7Ozs7OzBEQUc5Qyw4REFBQ2Y7Z0RBQUlELFdBQVU7O2tFQUNiLDhEQUFDQzt3REFBSUQsV0FBVTs7Ozs7O2tFQUNmLDhEQUFDWTt3REFBS1osV0FBVTs7NERBQXdCOzREQUM3Qi9DLFNBQVN1RCxjQUFjLEVBQUVDLFVBQVU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MENBT3BELDhEQUFDUjtnQ0FBSUQsV0FBVTs7a0RBQ2IsOERBQUNyRCx5SkFBR0E7d0NBQUNxRCxXQUFVOzs7Ozs7a0RBQ2YsOERBQUNZOzs0Q0FBSzs0Q0FDVzdCLGtCQUFrQjlCLFNBQVMrQixjQUFjOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0RBSzlELDhEQUFDaUI7d0JBQUlELFdBQVU7a0NBQ2IsNEVBQUNDOzRCQUFJRCxXQUFVOzs4Q0FDYiw4REFBQzNELHdKQUFTQTtvQ0FBQzJELFdBQVU7Ozs7Ozs4Q0FDckIsOERBQUNVO29DQUFHVixXQUFVOzhDQUF5Qzs7Ozs7OzhDQUN2RCw4REFBQ2E7b0NBQUViLFdBQVU7O3dDQUFnQjt3Q0FDV2pEO3dDQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFRbEU7QUFFQSxpRUFBZUQsV0FBV0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2RpZC1pLWRvZGdlLWEtYnVsbGV0Ly4vY29tcG9uZW50cy9Db21wYW55UGFnZS50c3g/OTQzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XHJcblxyXG5pbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgY29tcGFueVNlcnZpY2UgfSBmcm9tICdAL2xpYi9jb21wYW55VXRpbHMnO1xyXG5pbXBvcnQgeyBSZWRGbGFnLCByZWRGbGFncyB9IGZyb20gJ0AvbGliL3JlZEZsYWdzJztcclxuaW1wb3J0IHsgQnVpbGRpbmcyLCBVc2VycywgVHJlbmRpbmdVcCwgSGVhcnQsIEZpbGVUZXh0LCBCYXJDaGFydDMsIEFycm93TGVmdCwgRXllLCBBbGVydFRyaWFuZ2xlLCBDbG9jayB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcblxyXG5pbnRlcmZhY2UgQ29tcGFueVBhZ2VQcm9wcyB7XHJcbiAgY29tcGFueU5hbWU6IHN0cmluZztcclxuICBvbkJhY2s6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmNvbnN0IENvbXBhbnlQYWdlID0gKHsgY29tcGFueU5hbWUsIG9uQmFjayB9OiBDb21wYW55UGFnZVByb3BzKSA9PiB7XHJcbiAgY29uc3QgW2luc2lnaHRzLCBzZXRJbnNpZ2h0c10gPSB1c2VTdGF0ZTxhbnk+KG51bGwpO1xyXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0TG9hZGluZyh0cnVlKTtcclxuICAgIC8vIEFsd2F5cyByZWZyZXNoIGNvbXBhbmllcyB0byBnZXQgbGF0ZXN0IGRhdGFcclxuICAgIGNvbXBhbnlTZXJ2aWNlLnJlZnJlc2hDb21wYW5pZXMoKS50aGVuKCgpID0+IHtcclxuICAgICAgcmV0dXJuIGNvbXBhbnlTZXJ2aWNlLnNlYXJjaENvbXBhbmllcyhjb21wYW55TmFtZSwgMSk7XHJcbiAgICB9KS50aGVuKChyZXN1bHRzKSA9PiB7XHJcbiAgICAgIHNldEluc2lnaHRzKHJlc3VsdHNbMF0gfHwgbnVsbCk7XHJcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSk7XHJcbiAgfSwgW2NvbXBhbnlOYW1lXSk7XHJcblxyXG4gIC8vIEdldCB0aGUgMyBtb3N0IGNvbW1vbiBmbGFncyB3aXRoIHRoZWlyIGRldGFpbHNcclxuICBjb25zdCB0b3BGbGFncyA9IHVzZU1lbW8oKCkgPT4ge1xyXG4gICAgaWYgKCFpbnNpZ2h0cz8uY29tbW9uRmxhZ3MgfHwgaW5zaWdodHMuY29tbW9uRmxhZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb3VudCBmcmVxdWVuY3kgb2YgZWFjaCBmbGFnXHJcbiAgICBjb25zdCBmbGFnQ291bnRzID0gaW5zaWdodHMuY29tbW9uRmxhZ3MucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIGZsYWdJZDogc3RyaW5nKSA9PiB7XHJcbiAgICAgIGFjY1tmbGFnSWRdID0gKGFjY1tmbGFnSWRdIHx8IDApICsgMTtcclxuICAgICAgcmV0dXJuIGFjYztcclxuICAgIH0sIHt9KTtcclxuXHJcbiAgICAvLyBHZXQgZmxhZyBkZXRhaWxzIGFuZCBzb3J0IGJ5IGZyZXF1ZW5jeVxyXG4gICAgY29uc3QgZmxhZ0RldGFpbHMgPSBPYmplY3QuZW50cmllcyhmbGFnQ291bnRzKVxyXG4gICAgICAubWFwKChbZmxhZ0lkLCBjb3VudF0pID0+IHtcclxuICAgICAgICBjb25zdCBmbGFnID0gcmVkRmxhZ3MuZmluZChmID0+IGYuaWQgPT09IGZsYWdJZCk7XHJcbiAgICAgICAgcmV0dXJuIGZsYWcgPyB7IC4uLmZsYWcsIGNvdW50IH0gOiBudWxsO1xyXG4gICAgICB9KVxyXG4gICAgICAuZmlsdGVyKChmKTogZiBpcyBSZWRGbGFnICYgeyBjb3VudDogbnVtYmVyIH0gPT4gQm9vbGVhbihmKSlcclxuICAgICAgLnNvcnQoKGEsIGIpID0+IChiPy5jb3VudCB8fCAwKSAtIChhPy5jb3VudCB8fCAwKSlcclxuICAgICAgLnNsaWNlKDAsIDMpO1xyXG5cclxuICAgIHJldHVybiBmbGFnRGV0YWlscztcclxuICB9LCBbaW5zaWdodHNdKTtcclxuXHJcbiAgLy8gRm9ybWF0IHRoZSBsYXN0IHVwZGF0ZWQgZGF0ZSBwcm9wZXJseVxyXG4gIGNvbnN0IGZvcm1hdExhc3RVcGRhdGVkID0gKGxhc3RTdWJtaXNzaW9uOiBhbnkpID0+IHtcclxuICAgIGlmICghbGFzdFN1Ym1pc3Npb24pIHJldHVybiAnTi9BJztcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gSGFuZGxlIGRpZmZlcmVudCBkYXRlIGZvcm1hdHNcclxuICAgICAgbGV0IGRhdGU6IERhdGU7XHJcbiAgICAgIGlmIChsYXN0U3VibWlzc2lvbi5zZWNvbmRzKSB7XHJcbiAgICAgICAgLy8gRmlyZXN0b3JlIHRpbWVzdGFtcFxyXG4gICAgICAgIGRhdGUgPSBuZXcgRGF0ZShsYXN0U3VibWlzc2lvbi5zZWNvbmRzICogMTAwMCk7XHJcbiAgICAgIH0gZWxzZSBpZiAobGFzdFN1Ym1pc3Npb24udG9EYXRlKSB7XHJcbiAgICAgICAgLy8gRmlyZXN0b3JlIHRpbWVzdGFtcCBvYmplY3RcclxuICAgICAgICBkYXRlID0gbGFzdFN1Ym1pc3Npb24udG9EYXRlKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxhc3RTdWJtaXNzaW9uID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vIElTTyBzdHJpbmdcclxuICAgICAgICBkYXRlID0gbmV3IERhdGUobGFzdFN1Ym1pc3Npb24pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRyeSB0byBwYXJzZSBhcyBEYXRlXHJcbiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGxhc3RTdWJtaXNzaW9uKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xyXG4gICAgICAgIHJldHVybiAnTi9BJztcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcclxuICAgICAgICB5ZWFyOiAnbnVtZXJpYycsXHJcbiAgICAgICAgbW9udGg6ICdzaG9ydCcsXHJcbiAgICAgICAgZGF5OiAnbnVtZXJpYydcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmb3JtYXR0aW5nIGRhdGU6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gJ04vQSc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0U2V2ZXJpdHlDb2xvciA9IChzZXZlcml0eTogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XHJcbiAgICAgIGNhc2UgJ21lZGl1bSc6XHJcbiAgICAgICAgcmV0dXJuICdib3JkZXItb3JhbmdlLTUwMCBiZy1vcmFuZ2UtNTAnO1xyXG4gICAgICBjYXNlICdsaWdodCc6XHJcbiAgICAgICAgcmV0dXJuICdib3JkZXIteWVsbG93LTUwMCBiZy15ZWxsb3ctNTAnO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiAnYm9yZGVyLWdyYXktNTAwIGJnLWdyYXktNTAnO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldFNldmVyaXR5SWNvbiA9IChzZXZlcml0eTogc3RyaW5nKSA9PiB7XHJcbiAgICBzd2l0Y2ggKHNldmVyaXR5KSB7XHJcbiAgICAgIGNhc2UgJ21lZGl1bSc6XHJcbiAgICAgICAgcmV0dXJuIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1vcmFuZ2UtNjAwXCIgLz47XHJcbiAgICAgIGNhc2UgJ2xpZ2h0JzpcclxuICAgICAgICByZXR1cm4gPENsb2NrIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC15ZWxsb3ctNjAwXCIgLz47XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIDxBbGVydFRyaWFuZ2xlIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmF5LTYwMFwiIC8+O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHB4LTQgcHktOFwiPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgb25DbGljaz17b25CYWNrfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cIm1iLTYgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1ibHVlLTYwMCBob3Zlcjp1bmRlcmxpbmVcIlxyXG4gICAgICA+XHJcbiAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJ3LTUgaC01IG1yLTJcIiAvPiBCYWNrIHRvIFJlc3VsdHNcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LWxnIHAtOFwiPlxyXG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNiB0ZXh0LWdyYXktOTAwIGZsZXggaXRlbXMtY2VudGVyXCI+XHJcbiAgICAgICAgICA8QnVpbGRpbmcyIGNsYXNzTmFtZT1cInctNyBoLTcgdGV4dC1vcmFuZ2UtNTAwIG1yLTNcIiAvPlxyXG4gICAgICAgICAge2NvbXBhbnlOYW1lfVxyXG4gICAgICAgIDwvaDI+XHJcbiAgICAgICAgXHJcbiAgICAgICAge2xvYWRpbmcgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgbXQtNFwiPkxvYWRpbmcgaW5zaWdodHMuLi48L2Rpdj5cclxuICAgICAgICApIDogaW5zaWdodHMgPyAoXHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxyXG4gICAgICAgICAgICB7LyogU3VtbWFyeSBTdGF0cyAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC02XCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ibHVlLTUwIHJvdW5kZWQtbGcgcC00IHRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8QmFyQ2hhcnQzIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1ibHVlLTUwMCBteC1hdXRvIG1iLTJcIiAvPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ibHVlLTYwMFwiPlxyXG4gICAgICAgICAgICAgICAgICB7aW5zaWdodHMuc3VibWlzc2lvbkNvdW50IHx8IDB9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtNzAwXCI+Q2hlY2t1cHMgU3VibWl0dGVkPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1wdXJwbGUtNTAgcm91bmRlZC1sZyBwLTQgdGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxUcmVuZGluZ1VwIGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1wdXJwbGUtNTAwIG14LWF1dG8gbWItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXB1cnBsZS02MDBcIj5cclxuICAgICAgICAgICAgICAgICAge2luc2lnaHRzLmF2ZXJhZ2VGbGFnQ291bnQ/LnRvRml4ZWQoMSkgfHwgJzAuMCd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS03MDBcIj5BdmcgRmxhZ3MgcGVyIENoZWNrdXA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXJlZC01MCByb3VuZGVkLWxnIHAtNCB0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgPEhlYXJ0IGNsYXNzTmFtZT1cInctOCBoLTggdGV4dC1yZWQtNTAwIG14LWF1dG8gbWItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDBcIj5cclxuICAgICAgICAgICAgICAgICAge2luc2lnaHRzLnNldmVyaXR5VHJlbmRzPy5tZWRpdW0gfHwgMH1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcmVkLTcwMFwiPk1lZGl1bSBTZXZlcml0eSBGbGFnczwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIHsvKiBUb3AgMyBNb3N0IENvbW1vbiBGbGFncyAqL31cclxuICAgICAgICAgICAge3RvcEZsYWdzLmxlbmd0aCA+IDAgJiYgKFxyXG4gICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS04MDAgbWItNCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8VXNlcnMgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyZWVuLTUwMCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgTW9zdCBDb21tb24gUmVkIEZsYWdzXHJcbiAgICAgICAgICAgICAgICA8L2gzPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC00XCI+XHJcbiAgICAgICAgICAgICAgICAgIHt0b3BGbGFncy5tYXAoKGZsYWcsIGluZGV4KSA9PiAoXHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2ZsYWc/LmlkfSBjbGFzc05hbWU9e2Bib3JkZXItMiByb3VuZGVkLWxnIHAtNCAke2dldFNldmVyaXR5Q29sb3IoZmxhZz8uc2V2ZXJpdHkgfHwgJ2xpZ2h0Jyl9YH0+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtZ3JheS02MDAgYmctd2hpdGUgcHgtMiBweS0xIHJvdW5kZWRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAje2luZGV4ICsgMX0g4oCiIHtmbGFnPy5jb3VudH0gdGltZXtmbGFnPy5jb3VudCAhPT0gMSA/ICdzJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtnZXRTZXZlcml0eUljb24oZmxhZz8uc2V2ZXJpdHkgfHwgJ2xpZ2h0Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZm9udC1tZWRpdW0gdGV4dC1zbSBtYi0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtmbGFnPy50ZXh0fVxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gdGV4dC14cyB0ZXh0LWdyYXktNjAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImNhcGl0YWxpemVcIj57ZmxhZz8uY2F0ZWdvcnl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJjYXBpdGFsaXplXCI+e2ZsYWc/LnNldmVyaXR5fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICApKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgICAgey8qIFNldmVyaXR5IEJyZWFrZG93biAqL31cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC00XCI+XHJcbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIG1iLTNcIj5TZXZlcml0eSBCcmVha2Rvd248L2gzPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC02XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYmcteWVsbG93LTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgTGlnaHQ6IHtpbnNpZ2h0cy5zZXZlcml0eVRyZW5kcz8ubGlnaHQgfHwgMH1cclxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctNCBoLTQgYmctb3JhbmdlLTUwMCByb3VuZGVkLWZ1bGxcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgTWVkaXVtOiB7aW5zaWdodHMuc2V2ZXJpdHlUcmVuZHM/Lm1lZGl1bSB8fCAwfVxyXG4gICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogTGFzdCBVcGRhdGVkICovfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgICAgICA8RXllIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxyXG4gICAgICAgICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgICAgICAgTGFzdCB1cGRhdGVkOiB7Zm9ybWF0TGFzdFVwZGF0ZWQoaW5zaWdodHMubGFzdFN1Ym1pc3Npb24pfVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApIDogKFxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG10LTRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04XCI+XHJcbiAgICAgICAgICAgICAgPEJ1aWxkaW5nMiBjbGFzc05hbWU9XCJ3LTEyIGgtMTIgdGV4dC1ncmF5LTMwMCBteC1hdXRvIG1iLTRcIiAvPlxyXG4gICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAgbWItMlwiPk5vIGluc2lnaHRzIGF2YWlsYWJsZSB5ZXQ8L2gzPlxyXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5cclxuICAgICAgICAgICAgICAgIEJlIHRoZSBmaXJzdCB0byBzdWJtaXQgYSBjaGVja3VwIGZvciB7Y29tcGFueU5hbWV9IVxyXG4gICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApfVxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb21wYW55UGFnZTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VNZW1vIiwiY29tcGFueVNlcnZpY2UiLCJyZWRGbGFncyIsIkJ1aWxkaW5nMiIsIlVzZXJzIiwiVHJlbmRpbmdVcCIsIkhlYXJ0IiwiQmFyQ2hhcnQzIiwiQXJyb3dMZWZ0IiwiRXllIiwiQWxlcnRUcmlhbmdsZSIsIkNsb2NrIiwiQ29tcGFueVBhZ2UiLCJjb21wYW55TmFtZSIsIm9uQmFjayIsImluc2lnaHRzIiwic2V0SW5zaWdodHMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInJlZnJlc2hDb21wYW5pZXMiLCJ0aGVuIiwic2VhcmNoQ29tcGFuaWVzIiwicmVzdWx0cyIsInRvcEZsYWdzIiwiY29tbW9uRmxhZ3MiLCJsZW5ndGgiLCJmbGFnQ291bnRzIiwicmVkdWNlIiwiYWNjIiwiZmxhZ0lkIiwiZmxhZ0RldGFpbHMiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiY291bnQiLCJmbGFnIiwiZmluZCIsImYiLCJpZCIsImZpbHRlciIsIkJvb2xlYW4iLCJzb3J0IiwiYSIsImIiLCJzbGljZSIsImZvcm1hdExhc3RVcGRhdGVkIiwibGFzdFN1Ym1pc3Npb24iLCJkYXRlIiwic2Vjb25kcyIsIkRhdGUiLCJ0b0RhdGUiLCJpc05hTiIsImdldFRpbWUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJlcnJvciIsImNvbnNvbGUiLCJnZXRTZXZlcml0eUNvbG9yIiwic2V2ZXJpdHkiLCJnZXRTZXZlcml0eUljb24iLCJjbGFzc05hbWUiLCJkaXYiLCJidXR0b24iLCJvbkNsaWNrIiwiaDIiLCJzdWJtaXNzaW9uQ291bnQiLCJhdmVyYWdlRmxhZ0NvdW50IiwidG9GaXhlZCIsInNldmVyaXR5VHJlbmRzIiwibWVkaXVtIiwiaDMiLCJpbmRleCIsInNwYW4iLCJwIiwidGV4dCIsImNhdGVnb3J5IiwibGlnaHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./components/CompanyPage.tsx\n");

/***/ }),

/***/ "(ssr)/./lib/companyUtils.ts":
/*!*****************************!*\
  !*** ./lib/companyUtils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CompanyService: () => (/* binding */ CompanyService),\n/* harmony export */   calculateSimilarity: () => (/* binding */ calculateSimilarity),\n/* harmony export */   companyService: () => (/* binding */ companyService),\n/* harmony export */   generateAliases: () => (/* binding */ generateAliases),\n/* harmony export */   getCompanyInsights: () => (/* binding */ getCompanyInsights),\n/* harmony export */   normalizeCompanyName: () => (/* binding */ normalizeCompanyName),\n/* harmony export */   updateCompanyInsights: () => (/* binding */ updateCompanyInsights)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(ssr)/./lib/firebase.ts\");\n\n\n// Global cache with TTL\nconst CACHE_TTL = 5 * 60 * 1000; // 5 minutes\nlet companyCache = {\n    companies: [],\n    lastUpdated: 0,\n    isLoaded: false\n};\n/**\n * Normalize company name for consistent searching\n */ const normalizeCompanyName = (input)=>{\n    if (!input) return \"\";\n    return input.trim().toLowerCase().replace(/\\s+/g, \" \") // Normalize whitespace\n    .replace(/[^\\w\\s-]/g, \"\") // Remove special characters except hyphens\n    .replace(/\\b(inc|corp|corporation|llc|ltd|limited|co|company|group|holdings|enterprises|ventures|partners|associates)\\b/g, \"\") // Remove common suffixes\n    .replace(/\\b(the|a|an)\\b/g, \"\") // Remove common prefixes\n    .replace(/\\s+/g, \" \") // Normalize whitespace again\n    .trim();\n};\n/**\n * Generate aliases for a company name\n */ const generateAliases = (name, website)=>{\n    const aliases = [];\n    if (!name) return aliases;\n    // Add original name\n    aliases.push(name.trim());\n    // Add lowercase version\n    aliases.push(name.toLowerCase().trim());\n    // Add without common suffixes\n    const nameClean = name.toLowerCase().replace(/\\b(inc|corp|corporation|llc|ltd|limited|co|company|group|holdings|enterprises|ventures|partners|associates)\\b/g, \"\").replace(/\\s+/g, \" \").trim();\n    if (nameClean && nameClean !== name.toLowerCase().trim()) {\n        aliases.push(nameClean);\n    }\n    // Add domain-based alias if website exists\n    if (website) {\n        try {\n            const url = new URL(website);\n            const domain = url.hostname;\n            if (domain && domain !== name.toLowerCase()) {\n                aliases.push(domain);\n                // Add without www\n                if (domain.startsWith(\"www.\")) {\n                    aliases.push(domain.substring(4));\n                }\n            }\n        } catch  {\n        // Invalid URL, skip\n        }\n    }\n    // Remove duplicates and empty strings\n    return Array.from(new Set(aliases.filter((alias)=>alias.trim())));\n};\n/**\n * Calculate similarity between two strings using Levenshtein distance\n */ const calculateSimilarity = (str1, str2)=>{\n    if (!str1 || !str2) return 0;\n    const matrix = [];\n    const len1 = str1.length;\n    const len2 = str2.length;\n    // Initialize matrix\n    for(let i = 0; i <= len2; i++){\n        matrix[i] = [\n            i\n        ];\n    }\n    for(let j = 0; j <= len1; j++){\n        matrix[0][j] = j;\n    }\n    // Fill matrix\n    for(let i = 1; i <= len2; i++){\n        for(let j = 1; j <= len1; j++){\n            if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\n                matrix[i][j] = matrix[i - 1][j - 1];\n            } else {\n                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1 // deletion\n                );\n            }\n        }\n    }\n    // Calculate similarity percentage\n    const maxLength = Math.max(len1, len2);\n    return maxLength === 0 ? 1 : (maxLength - matrix[len2][len1]) / maxLength;\n};\n/**\n * Optimized company search and management with caching\n */ class CompanyService {\n    constructor(){\n        this.db = (0,_firebase__WEBPACK_IMPORTED_MODULE_1__.getFirestoreDB)();\n    // Private constructor for singleton\n    }\n    static getInstance() {\n        if (!CompanyService.instance) {\n            CompanyService.instance = new CompanyService();\n        }\n        return CompanyService.instance;\n    }\n    /**\n   * Load all companies from database with caching\n   */ async loadAllCompanies() {\n        const now = Date.now();\n        // Return cached data if still valid\n        if (companyCache.isLoaded && now - companyCache.lastUpdated < CACHE_TTL) {\n            return companyCache.companies;\n        }\n        try {\n            if (!this.db) {\n                console.warn(\"Firebase not initialized\");\n                return [];\n            }\n            const companiesRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(this.db, \"companies\");\n            const snapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(companiesRef);\n            const companies = snapshot.docs.map((doc)=>{\n                const data = doc.data();\n                return {\n                    id: doc.id,\n                    name: data.name || \"\",\n                    normalizedName: data.normalizedName || \"\",\n                    aliases: data.aliases || [],\n                    website: data.website,\n                    location: data.location,\n                    industry: data.industry,\n                    company_size: data.company_size,\n                    company_type: data.company_type,\n                    founded_year: data.founded_year,\n                    specialities: data.specialities,\n                    locations: data.locations,\n                    submissionCount: data.submissionCount || 0,\n                    lastSubmission: data.lastSubmission?.toDate(),\n                    commonFlags: data.commonFlags || [],\n                    averageFlagCount: data.averageFlagCount || 0,\n                    severityTrends: data.severityTrends || {\n                        light: 0,\n                        medium: 0\n                    },\n                    createdAt: data.createdAt?.toDate(),\n                    updatedAt: data.updatedAt?.toDate()\n                };\n            });\n            // Update cache\n            companyCache = {\n                companies,\n                lastUpdated: now,\n                isLoaded: true\n            };\n            console.log(`Loaded ${companies.length} companies`);\n            return companies;\n        } catch (error) {\n            console.error(\"Error loading companies:\", error);\n            return [];\n        }\n    }\n    /**\n   * Search companies with optimized caching\n   */ async searchCompanies(query, limit = 10) {\n        if (!query.trim()) return [];\n        const companies = await this.loadAllCompanies();\n        const normalizedQuery = normalizeCompanyName(query);\n        const results = [];\n        for (const company of companies){\n            let bestScore = 0;\n            let matchType = \"fuzzy\";\n            // Check exact matches first\n            if (company.normalizedName === normalizedQuery) {\n                bestScore = 1.0;\n                matchType = \"exact\";\n            } else if (company.name.toLowerCase().includes(query.toLowerCase())) {\n                bestScore = 0.9;\n                matchType = \"partial\";\n            } else {\n                // Check aliases\n                for (const alias of company.aliases){\n                    const aliasNormalized = normalizeCompanyName(alias);\n                    if (aliasNormalized === normalizedQuery) {\n                        bestScore = 0.8;\n                        matchType = \"alias\";\n                        break;\n                    }\n                }\n                // If no exact matches, try fuzzy matching\n                if (bestScore === 0) {\n                    const similarity = calculateSimilarity(normalizedQuery, company.normalizedName);\n                    if (similarity > 0.7) {\n                        bestScore = similarity;\n                        matchType = \"fuzzy\";\n                    }\n                }\n            }\n            if (bestScore > 0) {\n                results.push({\n                    company,\n                    relevanceScore: bestScore,\n                    matchType\n                });\n            }\n        }\n        // Sort by relevance and return top results\n        return results.sort((a, b)=>b.relevanceScore - a.relevanceScore).slice(0, limit).map((result)=>result.company);\n    }\n    /**\n   * Find or create company with caching\n   */ async findOrCreateCompany(companyName) {\n        if (!companyName.trim()) {\n            throw new Error(\"Company name cannot be empty\");\n        }\n        // First try to find existing company\n        const searchResults = await this.searchCompanies(companyName, 1);\n        if (searchResults.length > 0) {\n            const bestMatch = searchResults[0];\n            const similarity = calculateSimilarity(normalizeCompanyName(companyName), bestMatch.normalizedName);\n            // If similarity is high enough, return existing company\n            if (similarity > 0.8) {\n                return bestMatch;\n            }\n        }\n        // Create new company if no good match found\n        return this.createCompany(companyName);\n    }\n    /**\n   * Create new company\n   */ async createCompany(companyName) {\n        if (!this.db) {\n            throw new Error(\"Firebase not initialized\");\n        }\n        const normalizedName = normalizeCompanyName(companyName);\n        const aliases = generateAliases(companyName);\n        const companyData = {\n            name: companyName.trim(),\n            normalizedName,\n            aliases,\n            submissionCount: 0,\n            commonFlags: [],\n            averageFlagCount: 0,\n            severityTrends: {\n                light: 0,\n                medium: 0\n            },\n            createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n            updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n        };\n        try {\n            const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(this.db, \"companies\"), companyData);\n            const newCompany = {\n                id: docRef.id,\n                ...companyData,\n                createdAt: new Date(),\n                updatedAt: new Date()\n            };\n            // Add to cache\n            companyCache.companies.push(newCompany);\n            return newCompany;\n        } catch (error) {\n            console.error(\"Error creating company:\", error);\n            throw error;\n        }\n    }\n    /**\n   * Update company with submission data\n   */ async updateCompanyWithSubmission(companyId, submissionData) {\n        if (!this.db) {\n            console.warn(\"Firebase not initialized. Skipping company update.\");\n            return;\n        }\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(this.db, \"companies\", companyId);\n            // Get current company data\n            const company = companyCache.companies.find((c)=>c.id === companyId);\n            if (!company) {\n                console.warn(\"Company not found in cache for update\");\n                return;\n            }\n            const updatedData = {\n                submissionCount: company.submissionCount + 1,\n                commonFlags: Array.from(new Set([\n                    ...company.commonFlags,\n                    ...submissionData.markedFlags\n                ])),\n                averageFlagCount: (company.averageFlagCount * company.submissionCount + submissionData.markedFlags.length) / (company.submissionCount + 1),\n                severityTrends: {\n                    light: company.severityTrends.light + submissionData.severityBreakdown.light,\n                    medium: company.severityTrends.medium + submissionData.severityBreakdown.medium\n                },\n                lastSubmission: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)(docRef, updatedData);\n            // Update cache\n            const cacheIndex = companyCache.companies.findIndex((c)=>c.id === companyId);\n            if (cacheIndex !== -1) {\n                companyCache.companies[cacheIndex] = {\n                    ...company,\n                    ...updatedData,\n                    lastSubmission: new Date(),\n                    updatedAt: new Date()\n                };\n            }\n        } catch (error) {\n            console.error(\"Error updating company with submission:\", error);\n        // Don't throw error - company update is not critical\n        }\n    }\n    /**\n   * Refresh companies cache\n   */ async refreshCompanies() {\n        companyCache = {\n            companies: [],\n            lastUpdated: 0,\n            isLoaded: false\n        };\n        await this.loadAllCompanies();\n    }\n    /**\n   * Get all companies (cached)\n   */ async getAllCompanies() {\n        return this.loadAllCompanies();\n    }\n}\n// Export singleton instance\nconst companyService = CompanyService.getInstance();\n// Legacy functions for backward compatibility\nconst getCompanyInsights = async (companyName)=>{\n    const companies = await companyService.searchCompanies(companyName, 1);\n    return companies.length > 0 ? companies[0] : null;\n};\nconst updateCompanyInsights = async (companyName, submissionData)=>{\n    const companies = await companyService.searchCompanies(companyName, 1);\n    if (companies.length > 0) {\n        await companyService.updateCompanyWithSubmission(companies[0].id, submissionData);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q3ZDLE1BQU13RSxxQkFBcUIsT0FBT3JCO0lBQ3ZDLE1BQU01RixZQUFZLE1BQU1nSCxlQUFldEMsZUFBZSxDQUFDa0IsYUFBYTtJQUNwRSxPQUFPNUYsVUFBVThCLE1BQU0sR0FBRyxJQUFJOUIsU0FBUyxDQUFDLEVBQUUsR0FBRztBQUMvQyxFQUFFO0FBRUssTUFBTWtILHdCQUF3QixPQUFPdEIsYUFBcUJVO0lBQy9ELE1BQU10RyxZQUFZLE1BQU1nSCxlQUFldEMsZUFBZSxDQUFDa0IsYUFBYTtJQUNwRSxJQUFJNUYsVUFBVThCLE1BQU0sR0FBRyxHQUFHO1FBQ3hCLE1BQU1rRixlQUFlWiwyQkFBMkIsQ0FBQ3BHLFNBQVMsQ0FBQyxFQUFFLENBQUNxRCxFQUFFLEVBQUVpRDtJQUNwRTtBQUNGLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kaWQtaS1kb2RnZS1hLWJ1bGxldC8uL2xpYi9jb21wYW55VXRpbHMudHM/MmI1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBcbiAgY29sbGVjdGlvbiwgXG4gIGdldERvY3MsIFxuICBhZGREb2MsIFxuICB1cGRhdGVEb2MsIFxuICBkb2MsIFxuICBxdWVyeSwgXG4gIHdoZXJlLCBcbiAgbGltaXQsIFxuICBvcmRlckJ5LFxuICBzZXJ2ZXJUaW1lc3RhbXAsXG4gIFRpbWVzdGFtcFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlREIgfSBmcm9tICcuL2ZpcmViYXNlJztcblxuLy8gVW5pZmllZCBDb21wYW55IEludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBDb21wYW55IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBub3JtYWxpemVkTmFtZTogc3RyaW5nO1xuICBhbGlhc2VzOiBzdHJpbmdbXTtcbiAgd2Vic2l0ZT86IHN0cmluZztcbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIGluZHVzdHJ5Pzogc3RyaW5nO1xuICBjb21wYW55X3NpemU/OiBzdHJpbmc7XG4gIGNvbXBhbnlfdHlwZT86IHN0cmluZztcbiAgZm91bmRlZF95ZWFyPzogbnVtYmVyO1xuICBzcGVjaWFsaXRpZXM/OiBzdHJpbmc7XG4gIGxvY2F0aW9ucz86IHN0cmluZztcbiAgXG4gIC8vIER5bmFtaWMgZmllbGRzIGZyb20gc3VibWlzc2lvbnNcbiAgc3VibWlzc2lvbkNvdW50OiBudW1iZXI7XG4gIGxhc3RTdWJtaXNzaW9uPzogRGF0ZTtcbiAgY29tbW9uRmxhZ3M6IHN0cmluZ1tdO1xuICBhdmVyYWdlRmxhZ0NvdW50OiBudW1iZXI7XG4gIHNldmVyaXR5VHJlbmRzOiB7XG4gICAgbGlnaHQ6IG51bWJlcjtcbiAgICBtZWRpdW06IG51bWJlcjtcbiAgfTtcbiAgXG4gIC8vIE1ldGFkYXRhXG4gIGNyZWF0ZWRBdD86IERhdGU7XG4gIHVwZGF0ZWRBdD86IERhdGU7XG59XG5cbi8vIFNlYXJjaCBSZXN1bHQgd2l0aCByZWxldmFuY2Ugc2NvcmVcbmV4cG9ydCBpbnRlcmZhY2UgU2VhcmNoUmVzdWx0IHtcbiAgY29tcGFueTogQ29tcGFueTtcbiAgcmVsZXZhbmNlU2NvcmU6IG51bWJlcjtcbiAgbWF0Y2hUeXBlOiAnZXhhY3QnIHwgJ3BhcnRpYWwnIHwgJ2Z1enp5JyB8ICdhbGlhcyc7XG59XG5cbi8vIENhY2hlIGludGVyZmFjZVxuaW50ZXJmYWNlIENvbXBhbnlDYWNoZSB7XG4gIGNvbXBhbmllczogQ29tcGFueVtdO1xuICBsYXN0VXBkYXRlZDogbnVtYmVyO1xuICBpc0xvYWRlZDogYm9vbGVhbjtcbn1cblxuLy8gR2xvYmFsIGNhY2hlIHdpdGggVFRMXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcbmxldCBjb21wYW55Q2FjaGU6IENvbXBhbnlDYWNoZSA9IHtcbiAgY29tcGFuaWVzOiBbXSxcbiAgbGFzdFVwZGF0ZWQ6IDAsXG4gIGlzTG9hZGVkOiBmYWxzZVxufTtcblxuLyoqXG4gKiBOb3JtYWxpemUgY29tcGFueSBuYW1lIGZvciBjb25zaXN0ZW50IHNlYXJjaGluZ1xuICovXG5leHBvcnQgY29uc3Qgbm9ybWFsaXplQ29tcGFueU5hbWUgPSAoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGlmICghaW5wdXQpIHJldHVybiAnJztcbiAgXG4gIHJldHVybiBpbnB1dFxuICAgIC50cmltKClcbiAgICAudG9Mb3dlckNhc2UoKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2VcbiAgICAucmVwbGFjZSgvW15cXHdcXHMtXS9nLCAnJykgLy8gUmVtb3ZlIHNwZWNpYWwgY2hhcmFjdGVycyBleGNlcHQgaHlwaGVuc1xuICAgIC5yZXBsYWNlKC9cXGIoaW5jfGNvcnB8Y29ycG9yYXRpb258bGxjfGx0ZHxsaW1pdGVkfGNvfGNvbXBhbnl8Z3JvdXB8aG9sZGluZ3N8ZW50ZXJwcmlzZXN8dmVudHVyZXN8cGFydG5lcnN8YXNzb2NpYXRlcylcXGIvZywgJycpIC8vIFJlbW92ZSBjb21tb24gc3VmZml4ZXNcbiAgICAucmVwbGFjZSgvXFxiKHRoZXxhfGFuKVxcYi9nLCAnJykgLy8gUmVtb3ZlIGNvbW1vbiBwcmVmaXhlc1xuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgLy8gTm9ybWFsaXplIHdoaXRlc3BhY2UgYWdhaW5cbiAgICAudHJpbSgpO1xufTtcblxuLyoqXG4gKiBHZW5lcmF0ZSBhbGlhc2VzIGZvciBhIGNvbXBhbnkgbmFtZVxuICovXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVBbGlhc2VzID0gKG5hbWU6IHN0cmluZywgd2Vic2l0ZT86IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgYWxpYXNlczogc3RyaW5nW10gPSBbXTtcbiAgXG4gIGlmICghbmFtZSkgcmV0dXJuIGFsaWFzZXM7XG4gIFxuICAvLyBBZGQgb3JpZ2luYWwgbmFtZVxuICBhbGlhc2VzLnB1c2gobmFtZS50cmltKCkpO1xuICBcbiAgLy8gQWRkIGxvd2VyY2FzZSB2ZXJzaW9uXG4gIGFsaWFzZXMucHVzaChuYW1lLnRvTG93ZXJDYXNlKCkudHJpbSgpKTtcbiAgXG4gIC8vIEFkZCB3aXRob3V0IGNvbW1vbiBzdWZmaXhlc1xuICBjb25zdCBuYW1lQ2xlYW4gPSBuYW1lLnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvXFxiKGluY3xjb3JwfGNvcnBvcmF0aW9ufGxsY3xsdGR8bGltaXRlZHxjb3xjb21wYW55fGdyb3VwfGhvbGRpbmdzfGVudGVycHJpc2VzfHZlbnR1cmVzfHBhcnRuZXJzfGFzc29jaWF0ZXMpXFxiL2csICcnKVxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcbiAgICAudHJpbSgpO1xuICBcbiAgaWYgKG5hbWVDbGVhbiAmJiBuYW1lQ2xlYW4gIT09IG5hbWUudG9Mb3dlckNhc2UoKS50cmltKCkpIHtcbiAgICBhbGlhc2VzLnB1c2gobmFtZUNsZWFuKTtcbiAgfVxuICBcbiAgLy8gQWRkIGRvbWFpbi1iYXNlZCBhbGlhcyBpZiB3ZWJzaXRlIGV4aXN0c1xuICBpZiAod2Vic2l0ZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHdlYnNpdGUpO1xuICAgICAgY29uc3QgZG9tYWluID0gdXJsLmhvc3RuYW1lO1xuICAgICAgaWYgKGRvbWFpbiAmJiBkb21haW4gIT09IG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgICAgICBhbGlhc2VzLnB1c2goZG9tYWluKTtcbiAgICAgICAgLy8gQWRkIHdpdGhvdXQgd3d3XG4gICAgICAgIGlmIChkb21haW4uc3RhcnRzV2l0aCgnd3d3LicpKSB7XG4gICAgICAgICAgYWxpYXNlcy5wdXNoKGRvbWFpbi5zdWJzdHJpbmcoNCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyBJbnZhbGlkIFVSTCwgc2tpcFxuICAgIH1cbiAgfVxuICBcbiAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYW5kIGVtcHR5IHN0cmluZ3NcbiAgcmV0dXJuIEFycmF5LmZyb20obmV3IFNldChhbGlhc2VzLmZpbHRlcihhbGlhcyA9PiBhbGlhcy50cmltKCkpKSk7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZSBzaW1pbGFyaXR5IGJldHdlZW4gdHdvIHN0cmluZ3MgdXNpbmcgTGV2ZW5zaHRlaW4gZGlzdGFuY2VcbiAqL1xuZXhwb3J0IGNvbnN0IGNhbGN1bGF0ZVNpbWlsYXJpdHkgPSAoc3RyMTogc3RyaW5nLCBzdHIyOiBzdHJpbmcpOiBudW1iZXIgPT4ge1xuICBpZiAoIXN0cjEgfHwgIXN0cjIpIHJldHVybiAwO1xuICBcbiAgY29uc3QgbWF0cml4ID0gW107XG4gIGNvbnN0IGxlbjEgPSBzdHIxLmxlbmd0aDtcbiAgY29uc3QgbGVuMiA9IHN0cjIubGVuZ3RoO1xuXG4gIC8vIEluaXRpYWxpemUgbWF0cml4XG4gIGZvciAobGV0IGkgPSAwOyBpIDw9IGxlbjI7IGkrKykge1xuICAgIG1hdHJpeFtpXSA9IFtpXTtcbiAgfVxuICBmb3IgKGxldCBqID0gMDsgaiA8PSBsZW4xOyBqKyspIHtcbiAgICBtYXRyaXhbMF1bal0gPSBqO1xuICB9XG5cbiAgLy8gRmlsbCBtYXRyaXhcbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbGVuMjsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPD0gbGVuMTsgaisrKSB7XG4gICAgICBpZiAoc3RyMi5jaGFyQXQoaSAtIDEpID09PSBzdHIxLmNoYXJBdChqIC0gMSkpIHtcbiAgICAgICAgbWF0cml4W2ldW2pdID0gbWF0cml4W2kgLSAxXVtqIC0gMV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRyaXhbaV1bal0gPSBNYXRoLm1pbihcbiAgICAgICAgICBtYXRyaXhbaSAtIDFdW2ogLSAxXSArIDEsIC8vIHN1YnN0aXR1dGlvblxuICAgICAgICAgIG1hdHJpeFtpXVtqIC0gMV0gKyAxLCAgICAgLy8gaW5zZXJ0aW9uXG4gICAgICAgICAgbWF0cml4W2kgLSAxXVtqXSArIDEgICAgICAvLyBkZWxldGlvblxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENhbGN1bGF0ZSBzaW1pbGFyaXR5IHBlcmNlbnRhZ2VcbiAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgobGVuMSwgbGVuMik7XG4gIHJldHVybiBtYXhMZW5ndGggPT09IDAgPyAxIDogKG1heExlbmd0aCAtIG1hdHJpeFtsZW4yXVtsZW4xXSkgLyBtYXhMZW5ndGg7XG59O1xuXG4vKipcbiAqIE9wdGltaXplZCBjb21wYW55IHNlYXJjaCBhbmQgbWFuYWdlbWVudCB3aXRoIGNhY2hpbmdcbiAqL1xuZXhwb3J0IGNsYXNzIENvbXBhbnlTZXJ2aWNlIHtcbiAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2U6IENvbXBhbnlTZXJ2aWNlO1xuICBwcml2YXRlIGRiID0gZ2V0RmlyZXN0b3JlREIoKTtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge1xuICAgIC8vIFByaXZhdGUgY29uc3RydWN0b3IgZm9yIHNpbmdsZXRvblxuICB9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBDb21wYW55U2VydmljZSB7XG4gICAgaWYgKCFDb21wYW55U2VydmljZS5pbnN0YW5jZSkge1xuICAgICAgQ29tcGFueVNlcnZpY2UuaW5zdGFuY2UgPSBuZXcgQ29tcGFueVNlcnZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIENvbXBhbnlTZXJ2aWNlLmluc3RhbmNlO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgYWxsIGNvbXBhbmllcyBmcm9tIGRhdGFiYXNlIHdpdGggY2FjaGluZ1xuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBsb2FkQWxsQ29tcGFuaWVzKCk6IFByb21pc2U8Q29tcGFueVtdPiB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBcbiAgICAvLyBSZXR1cm4gY2FjaGVkIGRhdGEgaWYgc3RpbGwgdmFsaWRcbiAgICBpZiAoY29tcGFueUNhY2hlLmlzTG9hZGVkICYmIChub3cgLSBjb21wYW55Q2FjaGUubGFzdFVwZGF0ZWQpIDwgQ0FDSEVfVFRMKSB7XG4gICAgICByZXR1cm4gY29tcGFueUNhY2hlLmNvbXBhbmllcztcbiAgICB9XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5kYikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIG5vdCBpbml0aWFsaXplZCcpO1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNvbXBhbmllc1JlZiA9IGNvbGxlY3Rpb24odGhpcy5kYiwgJ2NvbXBhbmllcycpO1xuICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbXBhbmllc1JlZik7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbXBhbmllcyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgbmFtZTogZGF0YS5uYW1lIHx8ICcnLFxuICAgICAgICAgIG5vcm1hbGl6ZWROYW1lOiBkYXRhLm5vcm1hbGl6ZWROYW1lIHx8ICcnLFxuICAgICAgICAgIGFsaWFzZXM6IGRhdGEuYWxpYXNlcyB8fCBbXSxcbiAgICAgICAgICB3ZWJzaXRlOiBkYXRhLndlYnNpdGUsXG4gICAgICAgICAgbG9jYXRpb246IGRhdGEubG9jYXRpb24sXG4gICAgICAgICAgaW5kdXN0cnk6IGRhdGEuaW5kdXN0cnksXG4gICAgICAgICAgY29tcGFueV9zaXplOiBkYXRhLmNvbXBhbnlfc2l6ZSxcbiAgICAgICAgICBjb21wYW55X3R5cGU6IGRhdGEuY29tcGFueV90eXBlLFxuICAgICAgICAgIGZvdW5kZWRfeWVhcjogZGF0YS5mb3VuZGVkX3llYXIsXG4gICAgICAgICAgc3BlY2lhbGl0aWVzOiBkYXRhLnNwZWNpYWxpdGllcyxcbiAgICAgICAgICBsb2NhdGlvbnM6IGRhdGEubG9jYXRpb25zLFxuICAgICAgICAgIHN1Ym1pc3Npb25Db3VudDogZGF0YS5zdWJtaXNzaW9uQ291bnQgfHwgMCxcbiAgICAgICAgICBsYXN0U3VibWlzc2lvbjogZGF0YS5sYXN0U3VibWlzc2lvbj8udG9EYXRlKCksXG4gICAgICAgICAgY29tbW9uRmxhZ3M6IGRhdGEuY29tbW9uRmxhZ3MgfHwgW10sXG4gICAgICAgICAgYXZlcmFnZUZsYWdDb3VudDogZGF0YS5hdmVyYWdlRmxhZ0NvdW50IHx8IDAsXG4gICAgICAgICAgc2V2ZXJpdHlUcmVuZHM6IGRhdGEuc2V2ZXJpdHlUcmVuZHMgfHwgeyBsaWdodDogMCwgbWVkaXVtOiAwIH0sXG4gICAgICAgICAgY3JlYXRlZEF0OiBkYXRhLmNyZWF0ZWRBdD8udG9EYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBkYXRhLnVwZGF0ZWRBdD8udG9EYXRlKCksXG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVXBkYXRlIGNhY2hlXG4gICAgICBjb21wYW55Q2FjaGUgPSB7XG4gICAgICAgIGNvbXBhbmllcyxcbiAgICAgICAgbGFzdFVwZGF0ZWQ6IG5vdyxcbiAgICAgICAgaXNMb2FkZWQ6IHRydWVcbiAgICAgIH07XG5cbiAgICAgIGNvbnNvbGUubG9nKGBMb2FkZWQgJHtjb21wYW5pZXMubGVuZ3RofSBjb21wYW5pZXNgKTtcbiAgICAgIHJldHVybiBjb21wYW5pZXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgY29tcGFuaWVzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2VhcmNoIGNvbXBhbmllcyB3aXRoIG9wdGltaXplZCBjYWNoaW5nXG4gICAqL1xuICBhc3luYyBzZWFyY2hDb21wYW5pZXMocXVlcnk6IHN0cmluZywgbGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxDb21wYW55W10+IHtcbiAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkgcmV0dXJuIFtdO1xuICAgIFxuICAgIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IHRoaXMubG9hZEFsbENvbXBhbmllcygpO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRRdWVyeSA9IG5vcm1hbGl6ZUNvbXBhbnlOYW1lKHF1ZXJ5KTtcbiAgICBcbiAgICBjb25zdCByZXN1bHRzOiBTZWFyY2hSZXN1bHRbXSA9IFtdO1xuICAgIFxuICAgIGZvciAoY29uc3QgY29tcGFueSBvZiBjb21wYW5pZXMpIHtcbiAgICAgIGxldCBiZXN0U2NvcmUgPSAwO1xuICAgICAgbGV0IG1hdGNoVHlwZTogJ2V4YWN0JyB8ICdwYXJ0aWFsJyB8ICdmdXp6eScgfCAnYWxpYXMnID0gJ2Z1enp5JztcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgZXhhY3QgbWF0Y2hlcyBmaXJzdFxuICAgICAgaWYgKGNvbXBhbnkubm9ybWFsaXplZE5hbWUgPT09IG5vcm1hbGl6ZWRRdWVyeSkge1xuICAgICAgICBiZXN0U2NvcmUgPSAxLjA7XG4gICAgICAgIG1hdGNoVHlwZSA9ICdleGFjdCc7XG4gICAgICB9IGVsc2UgaWYgKGNvbXBhbnkubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5LnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgIGJlc3RTY29yZSA9IDAuOTtcbiAgICAgICAgbWF0Y2hUeXBlID0gJ3BhcnRpYWwnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgYWxpYXNlc1xuICAgICAgICBmb3IgKGNvbnN0IGFsaWFzIG9mIGNvbXBhbnkuYWxpYXNlcykge1xuICAgICAgICAgIGNvbnN0IGFsaWFzTm9ybWFsaXplZCA9IG5vcm1hbGl6ZUNvbXBhbnlOYW1lKGFsaWFzKTtcbiAgICAgICAgICBpZiAoYWxpYXNOb3JtYWxpemVkID09PSBub3JtYWxpemVkUXVlcnkpIHtcbiAgICAgICAgICAgIGJlc3RTY29yZSA9IDAuODtcbiAgICAgICAgICAgIG1hdGNoVHlwZSA9ICdhbGlhcyc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIElmIG5vIGV4YWN0IG1hdGNoZXMsIHRyeSBmdXp6eSBtYXRjaGluZ1xuICAgICAgICBpZiAoYmVzdFNjb3JlID09PSAwKSB7XG4gICAgICAgICAgY29uc3Qgc2ltaWxhcml0eSA9IGNhbGN1bGF0ZVNpbWlsYXJpdHkobm9ybWFsaXplZFF1ZXJ5LCBjb21wYW55Lm5vcm1hbGl6ZWROYW1lKTtcbiAgICAgICAgICBpZiAoc2ltaWxhcml0eSA+IDAuNykge1xuICAgICAgICAgICAgYmVzdFNjb3JlID0gc2ltaWxhcml0eTtcbiAgICAgICAgICAgIG1hdGNoVHlwZSA9ICdmdXp6eSc7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChiZXN0U2NvcmUgPiAwKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7IGNvbXBhbnksIHJlbGV2YW5jZVNjb3JlOiBiZXN0U2NvcmUsIG1hdGNoVHlwZSB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gU29ydCBieSByZWxldmFuY2UgYW5kIHJldHVybiB0b3AgcmVzdWx0c1xuICAgIHJldHVybiByZXN1bHRzXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5yZWxldmFuY2VTY29yZSAtIGEucmVsZXZhbmNlU2NvcmUpXG4gICAgICAuc2xpY2UoMCwgbGltaXQpXG4gICAgICAubWFwKHJlc3VsdCA9PiByZXN1bHQuY29tcGFueSk7XG4gIH1cblxuICAvKipcbiAgICogRmluZCBvciBjcmVhdGUgY29tcGFueSB3aXRoIGNhY2hpbmdcbiAgICovXG4gIGFzeW5jIGZpbmRPckNyZWF0ZUNvbXBhbnkoY29tcGFueU5hbWU6IHN0cmluZyk6IFByb21pc2U8Q29tcGFueT4ge1xuICAgIGlmICghY29tcGFueU5hbWUudHJpbSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBhbnkgbmFtZSBjYW5ub3QgYmUgZW1wdHknKTtcbiAgICB9XG4gICAgXG4gICAgLy8gRmlyc3QgdHJ5IHRvIGZpbmQgZXhpc3RpbmcgY29tcGFueVxuICAgIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSBhd2FpdCB0aGlzLnNlYXJjaENvbXBhbmllcyhjb21wYW55TmFtZSwgMSk7XG4gICAgaWYgKHNlYXJjaFJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYmVzdE1hdGNoID0gc2VhcmNoUmVzdWx0c1swXTtcbiAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBjYWxjdWxhdGVTaW1pbGFyaXR5KFxuICAgICAgICBub3JtYWxpemVDb21wYW55TmFtZShjb21wYW55TmFtZSksIFxuICAgICAgICBiZXN0TWF0Y2gubm9ybWFsaXplZE5hbWVcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIElmIHNpbWlsYXJpdHkgaXMgaGlnaCBlbm91Z2gsIHJldHVybiBleGlzdGluZyBjb21wYW55XG4gICAgICBpZiAoc2ltaWxhcml0eSA+IDAuOCkge1xuICAgICAgICByZXR1cm4gYmVzdE1hdGNoO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgbmV3IGNvbXBhbnkgaWYgbm8gZ29vZCBtYXRjaCBmb3VuZFxuICAgIHJldHVybiB0aGlzLmNyZWF0ZUNvbXBhbnkoY29tcGFueU5hbWUpO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBuZXcgY29tcGFueVxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjcmVhdGVDb21wYW55KGNvbXBhbnlOYW1lOiBzdHJpbmcpOiBQcm9taXNlPENvbXBhbnk+IHtcbiAgICBpZiAoIXRoaXMuZGIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRmlyZWJhc2Ugbm90IGluaXRpYWxpemVkJyk7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IG5vcm1hbGl6ZWROYW1lID0gbm9ybWFsaXplQ29tcGFueU5hbWUoY29tcGFueU5hbWUpO1xuICAgIGNvbnN0IGFsaWFzZXMgPSBnZW5lcmF0ZUFsaWFzZXMoY29tcGFueU5hbWUpO1xuICAgIFxuICAgIGNvbnN0IGNvbXBhbnlEYXRhID0ge1xuICAgICAgbmFtZTogY29tcGFueU5hbWUudHJpbSgpLFxuICAgICAgbm9ybWFsaXplZE5hbWUsXG4gICAgICBhbGlhc2VzLFxuICAgICAgc3VibWlzc2lvbkNvdW50OiAwLFxuICAgICAgY29tbW9uRmxhZ3M6IFtdLFxuICAgICAgYXZlcmFnZUZsYWdDb3VudDogMCxcbiAgICAgIHNldmVyaXR5VHJlbmRzOiB7IGxpZ2h0OiAwLCBtZWRpdW06IDAgfSxcbiAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgIH07XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKHRoaXMuZGIsICdjb21wYW5pZXMnKSwgY29tcGFueURhdGEpO1xuICAgICAgXG4gICAgICBjb25zdCBuZXdDb21wYW55OiBDb21wYW55ID0ge1xuICAgICAgICBpZDogZG9jUmVmLmlkLFxuICAgICAgICAuLi5jb21wYW55RGF0YSxcbiAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBBZGQgdG8gY2FjaGVcbiAgICAgIGNvbXBhbnlDYWNoZS5jb21wYW5pZXMucHVzaChuZXdDb21wYW55KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIG5ld0NvbXBhbnk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNyZWF0aW5nIGNvbXBhbnk6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBjb21wYW55IHdpdGggc3VibWlzc2lvbiBkYXRhXG4gICAqL1xuICBhc3luYyB1cGRhdGVDb21wYW55V2l0aFN1Ym1pc3Npb24oXG4gICAgY29tcGFueUlkOiBzdHJpbmcsIFxuICAgIHN1Ym1pc3Npb25EYXRhOiB7XG4gICAgICBtYXJrZWRGbGFnczogc3RyaW5nW107XG4gICAgICBzZXZlcml0eUJyZWFrZG93bjogeyBsaWdodDogbnVtYmVyOyBtZWRpdW06IG51bWJlciB9O1xuICAgIH1cbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgaWYgKCF0aGlzLmRiKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIG5vdCBpbml0aWFsaXplZC4gU2tpcHBpbmcgY29tcGFueSB1cGRhdGUuJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2ModGhpcy5kYiwgJ2NvbXBhbmllcycsIGNvbXBhbnlJZCk7XG4gICAgICBcbiAgICAgIC8vIEdldCBjdXJyZW50IGNvbXBhbnkgZGF0YVxuICAgICAgY29uc3QgY29tcGFueSA9IGNvbXBhbnlDYWNoZS5jb21wYW5pZXMuZmluZChjID0+IGMuaWQgPT09IGNvbXBhbnlJZCk7XG4gICAgICBpZiAoIWNvbXBhbnkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdDb21wYW55IG5vdCBmb3VuZCBpbiBjYWNoZSBmb3IgdXBkYXRlJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgdXBkYXRlZERhdGEgPSB7XG4gICAgICAgIHN1Ym1pc3Npb25Db3VudDogY29tcGFueS5zdWJtaXNzaW9uQ291bnQgKyAxLFxuICAgICAgICBjb21tb25GbGFnczogQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5jb21wYW55LmNvbW1vbkZsYWdzLCAuLi5zdWJtaXNzaW9uRGF0YS5tYXJrZWRGbGFnc10pKSxcbiAgICAgICAgYXZlcmFnZUZsYWdDb3VudDogKGNvbXBhbnkuYXZlcmFnZUZsYWdDb3VudCAqIGNvbXBhbnkuc3VibWlzc2lvbkNvdW50ICsgc3VibWlzc2lvbkRhdGEubWFya2VkRmxhZ3MubGVuZ3RoKSAvIChjb21wYW55LnN1Ym1pc3Npb25Db3VudCArIDEpLFxuICAgICAgICBzZXZlcml0eVRyZW5kczoge1xuICAgICAgICAgIGxpZ2h0OiBjb21wYW55LnNldmVyaXR5VHJlbmRzLmxpZ2h0ICsgc3VibWlzc2lvbkRhdGEuc2V2ZXJpdHlCcmVha2Rvd24ubGlnaHQsXG4gICAgICAgICAgbWVkaXVtOiBjb21wYW55LnNldmVyaXR5VHJlbmRzLm1lZGl1bSArIHN1Ym1pc3Npb25EYXRhLnNldmVyaXR5QnJlYWtkb3duLm1lZGl1bVxuICAgICAgICB9LFxuICAgICAgICBsYXN0U3VibWlzc2lvbjogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICB9O1xuICAgICAgXG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jUmVmLCB1cGRhdGVkRGF0YSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjYWNoZVxuICAgICAgY29uc3QgY2FjaGVJbmRleCA9IGNvbXBhbnlDYWNoZS5jb21wYW5pZXMuZmluZEluZGV4KGMgPT4gYy5pZCA9PT0gY29tcGFueUlkKTtcbiAgICAgIGlmIChjYWNoZUluZGV4ICE9PSAtMSkge1xuICAgICAgICBjb21wYW55Q2FjaGUuY29tcGFuaWVzW2NhY2hlSW5kZXhdID0ge1xuICAgICAgICAgIC4uLmNvbXBhbnksXG4gICAgICAgICAgLi4udXBkYXRlZERhdGEsXG4gICAgICAgICAgbGFzdFN1Ym1pc3Npb246IG5ldyBEYXRlKCksXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBjb21wYW55IHdpdGggc3VibWlzc2lvbjonLCBlcnJvcik7XG4gICAgICAvLyBEb24ndCB0aHJvdyBlcnJvciAtIGNvbXBhbnkgdXBkYXRlIGlzIG5vdCBjcml0aWNhbFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZWZyZXNoIGNvbXBhbmllcyBjYWNoZVxuICAgKi9cbiAgYXN5bmMgcmVmcmVzaENvbXBhbmllcygpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb21wYW55Q2FjaGUgPSB7XG4gICAgICBjb21wYW5pZXM6IFtdLFxuICAgICAgbGFzdFVwZGF0ZWQ6IDAsXG4gICAgICBpc0xvYWRlZDogZmFsc2VcbiAgICB9O1xuICAgIGF3YWl0IHRoaXMubG9hZEFsbENvbXBhbmllcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCBhbGwgY29tcGFuaWVzIChjYWNoZWQpXG4gICAqL1xuICBhc3luYyBnZXRBbGxDb21wYW5pZXMoKTogUHJvbWlzZTxDb21wYW55W10+IHtcbiAgICByZXR1cm4gdGhpcy5sb2FkQWxsQ29tcGFuaWVzKCk7XG4gIH1cbn1cblxuLy8gRXhwb3J0IHNpbmdsZXRvbiBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGNvbXBhbnlTZXJ2aWNlID0gQ29tcGFueVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcblxuLy8gTGVnYWN5IGZ1bmN0aW9ucyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IGdldENvbXBhbnlJbnNpZ2h0cyA9IGFzeW5jIChjb21wYW55TmFtZTogc3RyaW5nKSA9PiB7XG4gIGNvbnN0IGNvbXBhbmllcyA9IGF3YWl0IGNvbXBhbnlTZXJ2aWNlLnNlYXJjaENvbXBhbmllcyhjb21wYW55TmFtZSwgMSk7XG4gIHJldHVybiBjb21wYW5pZXMubGVuZ3RoID4gMCA/IGNvbXBhbmllc1swXSA6IG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlQ29tcGFueUluc2lnaHRzID0gYXN5bmMgKGNvbXBhbnlOYW1lOiBzdHJpbmcsIHN1Ym1pc3Npb25EYXRhOiBhbnkpID0+IHtcbiAgY29uc3QgY29tcGFuaWVzID0gYXdhaXQgY29tcGFueVNlcnZpY2Uuc2VhcmNoQ29tcGFuaWVzKGNvbXBhbnlOYW1lLCAxKTtcbiAgaWYgKGNvbXBhbmllcy5sZW5ndGggPiAwKSB7XG4gICAgYXdhaXQgY29tcGFueVNlcnZpY2UudXBkYXRlQ29tcGFueVdpdGhTdWJtaXNzaW9uKGNvbXBhbmllc1swXS5pZCwgc3VibWlzc2lvbkRhdGEpO1xuICB9XG59OyAiXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImdldERvY3MiLCJhZGREb2MiLCJ1cGRhdGVEb2MiLCJkb2MiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJnZXRGaXJlc3RvcmVEQiIsIkNBQ0hFX1RUTCIsImNvbXBhbnlDYWNoZSIsImNvbXBhbmllcyIsImxhc3RVcGRhdGVkIiwiaXNMb2FkZWQiLCJub3JtYWxpemVDb21wYW55TmFtZSIsImlucHV0IiwidHJpbSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImdlbmVyYXRlQWxpYXNlcyIsIm5hbWUiLCJ3ZWJzaXRlIiwiYWxpYXNlcyIsInB1c2giLCJuYW1lQ2xlYW4iLCJ1cmwiLCJVUkwiLCJkb21haW4iLCJob3N0bmFtZSIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJBcnJheSIsImZyb20iLCJTZXQiLCJmaWx0ZXIiLCJhbGlhcyIsImNhbGN1bGF0ZVNpbWlsYXJpdHkiLCJzdHIxIiwic3RyMiIsIm1hdHJpeCIsImxlbjEiLCJsZW5ndGgiLCJsZW4yIiwiaSIsImoiLCJjaGFyQXQiLCJNYXRoIiwibWluIiwibWF4TGVuZ3RoIiwibWF4IiwiQ29tcGFueVNlcnZpY2UiLCJkYiIsImdldEluc3RhbmNlIiwiaW5zdGFuY2UiLCJsb2FkQWxsQ29tcGFuaWVzIiwibm93IiwiRGF0ZSIsImNvbnNvbGUiLCJ3YXJuIiwiY29tcGFuaWVzUmVmIiwic25hcHNob3QiLCJkb2NzIiwibWFwIiwiZGF0YSIsImlkIiwibm9ybWFsaXplZE5hbWUiLCJsb2NhdGlvbiIsImluZHVzdHJ5IiwiY29tcGFueV9zaXplIiwiY29tcGFueV90eXBlIiwiZm91bmRlZF95ZWFyIiwic3BlY2lhbGl0aWVzIiwibG9jYXRpb25zIiwic3VibWlzc2lvbkNvdW50IiwibGFzdFN1Ym1pc3Npb24iLCJ0b0RhdGUiLCJjb21tb25GbGFncyIsImF2ZXJhZ2VGbGFnQ291bnQiLCJzZXZlcml0eVRyZW5kcyIsImxpZ2h0IiwibWVkaXVtIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibG9nIiwiZXJyb3IiLCJzZWFyY2hDb21wYW5pZXMiLCJxdWVyeSIsImxpbWl0Iiwibm9ybWFsaXplZFF1ZXJ5IiwicmVzdWx0cyIsImNvbXBhbnkiLCJiZXN0U2NvcmUiLCJtYXRjaFR5cGUiLCJpbmNsdWRlcyIsImFsaWFzTm9ybWFsaXplZCIsInNpbWlsYXJpdHkiLCJyZWxldmFuY2VTY29yZSIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwicmVzdWx0IiwiZmluZE9yQ3JlYXRlQ29tcGFueSIsImNvbXBhbnlOYW1lIiwiRXJyb3IiLCJzZWFyY2hSZXN1bHRzIiwiYmVzdE1hdGNoIiwiY3JlYXRlQ29tcGFueSIsImNvbXBhbnlEYXRhIiwiZG9jUmVmIiwibmV3Q29tcGFueSIsInVwZGF0ZUNvbXBhbnlXaXRoU3VibWlzc2lvbiIsImNvbXBhbnlJZCIsInN1Ym1pc3Npb25EYXRhIiwiZmluZCIsImMiLCJ1cGRhdGVkRGF0YSIsIm1hcmtlZEZsYWdzIiwic2V2ZXJpdHlCcmVha2Rvd24iLCJjYWNoZUluZGV4IiwiZmluZEluZGV4IiwicmVmcmVzaENvbXBhbmllcyIsImdldEFsbENvbXBhbmllcyIsImNvbXBhbnlTZXJ2aWNlIiwiZ2V0Q29tcGFueUluc2lnaHRzIiwidXBkYXRlQ29tcGFueUluc2lnaHRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/companyUtils.ts\n");

/***/ }),

/***/ "(ssr)/./lib/firebase.ts":
/*!*************************!*\
  !*** ./lib/firebase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: () => (/* binding */ app),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   generateSessionId: () => (/* binding */ generateSessionId),\n/* harmony export */   getCompanyInsights: () => (/* binding */ getCompanyInsights),\n/* harmony export */   getFirebaseApp: () => (/* binding */ getFirebaseApp),\n/* harmony export */   getFirestoreDB: () => (/* binding */ getFirestoreDB),\n/* harmony export */   hashIP: () => (/* binding */ hashIP),\n/* harmony export */   initializeFirebase: () => (/* binding */ initializeFirebase),\n/* harmony export */   normalizeCompanyName: () => (/* binding */ normalizeCompanyName),\n/* harmony export */   submitInterviewCheckup: () => (/* binding */ submitInterviewCheckup),\n/* harmony export */   updateCompanyInsights: () => (/* binding */ updateCompanyInsights),\n/* harmony export */   validateFirebaseConfig: () => (/* binding */ validateFirebaseConfig)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(ssr)/./node_modules/firebase/app/dist/index.mjs\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"(ssr)/./node_modules/firebase/firestore/dist/index.mjs\");\n\n\n// Firebase configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyCTMqWzORaG1eK0Tp-T8e0h39rDJpLMPPQ\",\n    authDomain: \"did-i-dodge-a-bullet.firebaseapp.com\",\n    projectId: \"did-i-dodge-a-bullet\",\n    storageBucket: \"did-i-dodge-a-bullet.firebasestorage.app\",\n    messagingSenderId: \"190454478964\",\n    appId: \"1:190454478964:web:8b54426780fe1792627921\"\n};\n// Singleton pattern to prevent multiple initializations\nlet firebaseApp = null;\nlet firestoreDB = null;\n// Initialize Firebase only once\nconst initializeFirebase = ()=>{\n    if (!firebaseApp) {\n        // Check if Firebase is already initialized\n        const existingApps = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)();\n        if (existingApps.length > 0) {\n            firebaseApp = existingApps[0];\n        } else {\n            firebaseApp = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n        }\n    }\n    if (!firestoreDB) {\n        firestoreDB = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(firebaseApp);\n    }\n    return {\n        app: firebaseApp,\n        db: firestoreDB\n    };\n};\n// Get Firebase instances\nconst getFirebaseApp = ()=>{\n    if (!firebaseApp) {\n        const { app } = initializeFirebase();\n        return app;\n    }\n    return firebaseApp;\n};\nconst getFirestoreDB = ()=>{\n    if (!firestoreDB) {\n        const { db } = initializeFirebase();\n        return db;\n    }\n    return firestoreDB;\n};\n// Export for backward compatibility\nconst db = getFirestoreDB();\nconst app = getFirebaseApp();\n// Validate configuration\nconst validateFirebaseConfig = ()=>{\n    const requiredKeys = [\n        \"NEXT_PUBLIC_FIREBASE_API_KEY\",\n        \"NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN\",\n        \"NEXT_PUBLIC_FIREBASE_PROJECT_ID\",\n        \"NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET\",\n        \"NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID\",\n        \"NEXT_PUBLIC_FIREBASE_APP_ID\"\n    ];\n    const missingKeys = requiredKeys.filter((key)=>!process.env[key]);\n    if (missingKeys.length > 0) {\n        console.error(\"Missing Firebase configuration keys:\", missingKeys);\n        return false;\n    }\n    return true;\n};\n// Initialize on module load\nif (false) {}\n// Database functions\nconst submitInterviewCheckup = async (data)=>{\n    if (!firestoreDB) {\n        throw new Error(\"Firebase not initialized. Please set up your Firebase configuration.\");\n    }\n    try {\n        const submissionData = {\n            ...data,\n            timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n        };\n        const docRef = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestoreDB, \"submissions\"), submissionData);\n        // Update company insights if company name provided\n        if (data.companyName) {\n            await updateCompanyInsights(data.companyName, submissionData);\n        }\n        return docRef.id;\n    } catch (error) {\n        console.error(\"Error submitting interview checkup:\", error);\n        throw error;\n    }\n};\nconst updateCompanyInsights = async (companyName, submissionData)=>{\n    if (!firestoreDB) {\n        console.warn(\"Firebase not initialized. Skipping company insights update.\");\n        return;\n    }\n    try {\n        const normalizedCompanyName = normalizeCompanyName(companyName);\n        // Check if company insights already exist\n        const companyQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestoreDB, \"company_insights\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"companyName\", \"==\", normalizedCompanyName));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(companyQuery);\n        if (!querySnapshot.empty) {\n            // Update existing company insights\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.doc)(firestoreDB, \"company_insights\", querySnapshot.docs[0].id);\n            const existingData = querySnapshot.docs[0].data();\n            const updatedData = {\n                totalSubmissions: existingData.totalSubmissions + 1,\n                commonFlags: Array.from(new Set([\n                    ...existingData.commonFlags,\n                    ...submissionData.markedFlags\n                ])),\n                averageFlagCount: (existingData.averageFlagCount * existingData.totalSubmissions + submissionData.markedFlags.length) / (existingData.totalSubmissions + 1),\n                severityTrends: {\n                    light: existingData.severityTrends.light + submissionData.severityBreakdown.light,\n                    medium: existingData.severityTrends.medium + submissionData.severityBreakdown.medium\n                },\n                lastUpdated: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n            };\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.updateDoc)(docRef, updatedData);\n        } else {\n            // Create new company insights\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.addDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestoreDB, \"company_insights\"), {\n                companyName: normalizedCompanyName,\n                totalSubmissions: 1,\n                commonFlags: submissionData.markedFlags,\n                averageFlagCount: submissionData.markedFlags.length,\n                severityTrends: submissionData.severityBreakdown,\n                lastUpdated: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.serverTimestamp)()\n            });\n        }\n    } catch (error) {\n        console.error(\"Error updating company insights:\", error);\n    // Don't throw error - company insights update is not critical\n    }\n};\nconst getCompanyInsights = async (companyName)=>{\n    if (!firestoreDB) {\n        console.warn(\"Firebase not initialized. Cannot get company insights.\");\n        return null;\n    }\n    try {\n        const normalizedCompanyName = normalizeCompanyName(companyName);\n        const companyQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.collection)(firestoreDB, \"company_insights\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.where)(\"companyName\", \"==\", normalizedCompanyName));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getDocs)(companyQuery);\n        if (!querySnapshot.empty) {\n            return querySnapshot.docs[0].data();\n        }\n        return null;\n    } catch (error) {\n        console.error(\"Error getting company insights:\", error);\n        return null;\n    }\n};\n// Utility functions\nconst normalizeCompanyName = (input)=>{\n    return input.trim().toLowerCase().replace(/\\s+/g, \" \").replace(/[^\\w\\s-]/g, \"\").replace(/\\b(inc|corp|llc|ltd|co|company)\\b/g, \"\").trim();\n};\nconst generateSessionId = ()=>{\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\nconst hashIP = async (ip)=>{\n    const encoder = new TextEncoder();\n    const data = encoder.encode(ip);\n    const hashBuffer = await crypto.subtle.digest(\"SHA-256\", data);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map((b)=>b.toString(16).padStart(2, \"0\")).join(\"\");\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUFBTXpDLE9BQU93QyxRQUFRRSxNQUFNLENBQUNIO0lBQzVCLE1BQU1JLGFBQWEsTUFBTUMsT0FBT0MsTUFBTSxDQUFDQyxNQUFNLENBQUMsV0FBVzlDO0lBQ3pELE1BQU0rQyxZQUFZN0IsTUFBTUMsSUFBSSxDQUFDLElBQUk2QixXQUFXTDtJQUM1QyxPQUFPSSxVQUFVRSxHQUFHLENBQUNDLENBQUFBLElBQUtBLEVBQUVkLFFBQVEsQ0FBQyxJQUFJZSxRQUFRLENBQUMsR0FBRyxNQUFNQyxJQUFJLENBQUM7QUFDbEUsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL2RpZC1pLWRvZGdlLWEtYnVsbGV0Ly4vbGliL2ZpcmViYXNlLnRzPzVkMjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgRmlyZWJhc2VBcHAgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xyXG5pbXBvcnQgeyBcclxuICBnZXRGaXJlc3RvcmUsIFxyXG4gIEZpcmVzdG9yZSwgXHJcbiAgY29sbGVjdGlvbiwgXHJcbiAgYWRkRG9jLCBcclxuICB1cGRhdGVEb2MsIFxyXG4gIGRvYywgXHJcbiAgZ2V0RG9jcywgXHJcbiAgcXVlcnksIFxyXG4gIHdoZXJlLCBcclxuICBzZXJ2ZXJUaW1lc3RhbXAgXHJcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcclxuXHJcbi8vIEZpcmViYXNlIGNvbmZpZ3VyYXRpb25cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZLFxyXG4gIGF1dGhEb21haW46IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOLFxyXG4gIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCxcclxuICBtZXNzYWdpbmdTZW5kZXJJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCxcclxuICBhcHBJZDogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lELFxyXG59O1xyXG5cclxuLy8gU2luZ2xldG9uIHBhdHRlcm4gdG8gcHJldmVudCBtdWx0aXBsZSBpbml0aWFsaXphdGlvbnNcclxubGV0IGZpcmViYXNlQXBwOiBGaXJlYmFzZUFwcCB8IG51bGwgPSBudWxsO1xyXG5sZXQgZmlyZXN0b3JlREI6IEZpcmVzdG9yZSB8IG51bGwgPSBudWxsO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBvbmx5IG9uY2VcclxuZXhwb3J0IGNvbnN0IGluaXRpYWxpemVGaXJlYmFzZSA9ICgpOiB7IGFwcDogRmlyZWJhc2VBcHA7IGRiOiBGaXJlc3RvcmUgfSA9PiB7XHJcbiAgaWYgKCFmaXJlYmFzZUFwcCkge1xyXG4gICAgLy8gQ2hlY2sgaWYgRmlyZWJhc2UgaXMgYWxyZWFkeSBpbml0aWFsaXplZFxyXG4gICAgY29uc3QgZXhpc3RpbmdBcHBzID0gZ2V0QXBwcygpO1xyXG4gICAgaWYgKGV4aXN0aW5nQXBwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGZpcmViYXNlQXBwID0gZXhpc3RpbmdBcHBzWzBdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZmlyZWJhc2VBcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghZmlyZXN0b3JlREIpIHtcclxuICAgIGZpcmVzdG9yZURCID0gZ2V0RmlyZXN0b3JlKGZpcmViYXNlQXBwKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7IGFwcDogZmlyZWJhc2VBcHAsIGRiOiBmaXJlc3RvcmVEQiB9O1xyXG59O1xyXG5cclxuLy8gR2V0IEZpcmViYXNlIGluc3RhbmNlc1xyXG5leHBvcnQgY29uc3QgZ2V0RmlyZWJhc2VBcHAgPSAoKTogRmlyZWJhc2VBcHAgPT4ge1xyXG4gIGlmICghZmlyZWJhc2VBcHApIHtcclxuICAgIGNvbnN0IHsgYXBwIH0gPSBpbml0aWFsaXplRmlyZWJhc2UoKTtcclxuICAgIHJldHVybiBhcHA7XHJcbiAgfVxyXG4gIHJldHVybiBmaXJlYmFzZUFwcDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRGaXJlc3RvcmVEQiA9ICgpOiBGaXJlc3RvcmUgPT4ge1xyXG4gIGlmICghZmlyZXN0b3JlREIpIHtcclxuICAgIGNvbnN0IHsgZGIgfSA9IGluaXRpYWxpemVGaXJlYmFzZSgpO1xyXG4gICAgcmV0dXJuIGRiO1xyXG4gIH1cclxuICByZXR1cm4gZmlyZXN0b3JlREI7XHJcbn07XHJcblxyXG4vLyBFeHBvcnQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcclxuZXhwb3J0IGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlREIoKTtcclxuZXhwb3J0IGNvbnN0IGFwcCA9IGdldEZpcmViYXNlQXBwKCk7XHJcblxyXG4vLyBWYWxpZGF0ZSBjb25maWd1cmF0aW9uXHJcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZUZpcmViYXNlQ29uZmlnID0gKCk6IGJvb2xlYW4gPT4ge1xyXG4gIGNvbnN0IHJlcXVpcmVkS2V5cyA9IFtcclxuICAgICdORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZJyxcclxuICAgICdORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTicsXHJcbiAgICAnTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCcsXHJcbiAgICAnTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQnLFxyXG4gICAgJ05FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQnLFxyXG4gICAgJ05FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCcsXHJcbiAgXTtcclxuXHJcbiAgY29uc3QgbWlzc2luZ0tleXMgPSByZXF1aXJlZEtleXMuZmlsdGVyKGtleSA9PiAhcHJvY2Vzcy5lbnZba2V5XSk7XHJcbiAgXHJcbiAgaWYgKG1pc3NpbmdLZXlzLmxlbmd0aCA+IDApIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ01pc3NpbmcgRmlyZWJhc2UgY29uZmlndXJhdGlvbiBrZXlzOicsIG1pc3NpbmdLZXlzKTtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBvbiBtb2R1bGUgbG9hZFxyXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAvLyBPbmx5IGluaXRpYWxpemUgb24gY2xpZW50IHNpZGVcclxuICB0cnkge1xyXG4gICAgaWYgKHZhbGlkYXRlRmlyZWJhc2VDb25maWcoKSkge1xyXG4gICAgICBpbml0aWFsaXplRmlyZWJhc2UoKTtcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaXJlYmFzZSBpbml0aWFsaXplZCBzdWNjZXNzZnVsbHknKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEZpcmViYXNlIGNvbmZpZ3VyYXRpb24gaW5jb21wbGV0ZScpO1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgRmlyZWJhc2UgaW5pdGlhbGl6YXRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIERhdGFiYXNlIHR5cGVzXHJcbmV4cG9ydCBpbnRlcmZhY2UgSW50ZXJ2aWV3U3VibWlzc2lvbiB7XHJcbiAgY29tcGFueU5hbWU/OiBzdHJpbmcgfCBudWxsO1xyXG4gIG1hcmtlZEZsYWdzOiBzdHJpbmdbXTtcclxuICB0b3RhbEZsYWdzOiBudW1iZXI7XHJcbiAgc2V2ZXJpdHlCcmVha2Rvd246IHtcclxuICAgIGxpZ2h0OiBudW1iZXI7XHJcbiAgICBtZWRpdW06IG51bWJlcjtcclxuICB9O1xyXG4gIHRpbWVzdGFtcDogYW55OyAvLyBGaXJlc3RvcmUgdGltZXN0YW1wXHJcbiAgdXNlckFnZW50Pzogc3RyaW5nO1xyXG4gIGlwSGFzaD86IHN0cmluZztcclxuICBzZXNzaW9uSWQ6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDb21wYW55SW5zaWdodHMge1xyXG4gIGNvbXBhbnlOYW1lOiBzdHJpbmc7XHJcbiAgdG90YWxTdWJtaXNzaW9uczogbnVtYmVyO1xyXG4gIGNvbW1vbkZsYWdzOiBzdHJpbmdbXTtcclxuICBhdmVyYWdlRmxhZ0NvdW50OiBudW1iZXI7XHJcbiAgc2V2ZXJpdHlUcmVuZHM6IHtcclxuICAgIGxpZ2h0OiBudW1iZXI7XHJcbiAgICBtZWRpdW06IG51bWJlcjtcclxuICB9O1xyXG4gIGxhc3RVcGRhdGVkOiBhbnk7IC8vIEZpcmVzdG9yZSB0aW1lc3RhbXBcclxufVxyXG5cclxuLy8gRGF0YWJhc2UgZnVuY3Rpb25zXHJcbmV4cG9ydCBjb25zdCBzdWJtaXRJbnRlcnZpZXdDaGVja3VwID0gYXN5bmMgKGRhdGE6IE9taXQ8SW50ZXJ2aWV3U3VibWlzc2lvbiwgJ3RpbWVzdGFtcCc+KSA9PiB7XHJcbiAgaWYgKCFmaXJlc3RvcmVEQikge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaXJlYmFzZSBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBzZXQgdXAgeW91ciBGaXJlYmFzZSBjb25maWd1cmF0aW9uLicpO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc3VibWlzc2lvbkRhdGE6IEludGVydmlld1N1Ym1pc3Npb24gPSB7XHJcbiAgICAgIC4uLmRhdGEsXHJcbiAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKClcclxuICAgIH07XHJcbiAgICBcclxuICAgIGNvbnN0IGRvY1JlZiA9IGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGZpcmVzdG9yZURCLCAnc3VibWlzc2lvbnMnKSwgc3VibWlzc2lvbkRhdGEpO1xyXG4gICAgXHJcbiAgICAvLyBVcGRhdGUgY29tcGFueSBpbnNpZ2h0cyBpZiBjb21wYW55IG5hbWUgcHJvdmlkZWRcclxuICAgIGlmIChkYXRhLmNvbXBhbnlOYW1lKSB7XHJcbiAgICAgIGF3YWl0IHVwZGF0ZUNvbXBhbnlJbnNpZ2h0cyhkYXRhLmNvbXBhbnlOYW1lLCBzdWJtaXNzaW9uRGF0YSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBkb2NSZWYuaWQ7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHN1Ym1pdHRpbmcgaW50ZXJ2aWV3IGNoZWNrdXA6JywgZXJyb3IpO1xyXG4gICAgdGhyb3cgZXJyb3I7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNvbXBhbnlJbnNpZ2h0cyA9IGFzeW5jIChjb21wYW55TmFtZTogc3RyaW5nLCBzdWJtaXNzaW9uRGF0YTogSW50ZXJ2aWV3U3VibWlzc2lvbikgPT4ge1xyXG4gIGlmICghZmlyZXN0b3JlREIpIHtcclxuICAgIGNvbnNvbGUud2FybignRmlyZWJhc2Ugbm90IGluaXRpYWxpemVkLiBTa2lwcGluZyBjb21wYW55IGluc2lnaHRzIHVwZGF0ZS4nKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRDb21wYW55TmFtZSA9IG5vcm1hbGl6ZUNvbXBhbnlOYW1lKGNvbXBhbnlOYW1lKTtcclxuICAgIFxyXG4gICAgLy8gQ2hlY2sgaWYgY29tcGFueSBpbnNpZ2h0cyBhbHJlYWR5IGV4aXN0XHJcbiAgICBjb25zdCBjb21wYW55UXVlcnkgPSBxdWVyeShcclxuICAgICAgY29sbGVjdGlvbihmaXJlc3RvcmVEQiwgJ2NvbXBhbnlfaW5zaWdodHMnKSxcclxuICAgICAgd2hlcmUoJ2NvbXBhbnlOYW1lJywgJz09Jywgbm9ybWFsaXplZENvbXBhbnlOYW1lKVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29tcGFueVF1ZXJ5KTtcclxuICAgIFxyXG4gICAgaWYgKCFxdWVyeVNuYXBzaG90LmVtcHR5KSB7XHJcbiAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyBjb21wYW55IGluc2lnaHRzXHJcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhmaXJlc3RvcmVEQiwgJ2NvbXBhbnlfaW5zaWdodHMnLCBxdWVyeVNuYXBzaG90LmRvY3NbMF0uaWQpO1xyXG4gICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBxdWVyeVNuYXBzaG90LmRvY3NbMF0uZGF0YSgpIGFzIENvbXBhbnlJbnNpZ2h0cztcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHVwZGF0ZWREYXRhID0ge1xyXG4gICAgICAgIHRvdGFsU3VibWlzc2lvbnM6IGV4aXN0aW5nRGF0YS50b3RhbFN1Ym1pc3Npb25zICsgMSxcclxuICAgICAgICBjb21tb25GbGFnczogQXJyYXkuZnJvbShuZXcgU2V0KFsuLi5leGlzdGluZ0RhdGEuY29tbW9uRmxhZ3MsIC4uLnN1Ym1pc3Npb25EYXRhLm1hcmtlZEZsYWdzXSkpLFxyXG4gICAgICAgIGF2ZXJhZ2VGbGFnQ291bnQ6IChleGlzdGluZ0RhdGEuYXZlcmFnZUZsYWdDb3VudCAqIGV4aXN0aW5nRGF0YS50b3RhbFN1Ym1pc3Npb25zICsgc3VibWlzc2lvbkRhdGEubWFya2VkRmxhZ3MubGVuZ3RoKSAvIChleGlzdGluZ0RhdGEudG90YWxTdWJtaXNzaW9ucyArIDEpLFxyXG4gICAgICAgIHNldmVyaXR5VHJlbmRzOiB7XHJcbiAgICAgICAgICBsaWdodDogZXhpc3RpbmdEYXRhLnNldmVyaXR5VHJlbmRzLmxpZ2h0ICsgc3VibWlzc2lvbkRhdGEuc2V2ZXJpdHlCcmVha2Rvd24ubGlnaHQsXHJcbiAgICAgICAgICBtZWRpdW06IGV4aXN0aW5nRGF0YS5zZXZlcml0eVRyZW5kcy5tZWRpdW0gKyBzdWJtaXNzaW9uRGF0YS5zZXZlcml0eUJyZWFrZG93bi5tZWRpdW1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGxhc3RVcGRhdGVkOiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgICB9O1xyXG4gICAgICBcclxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvY1JlZiwgdXBkYXRlZERhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQ3JlYXRlIG5ldyBjb21wYW55IGluc2lnaHRzXHJcbiAgICAgIGF3YWl0IGFkZERvYyhjb2xsZWN0aW9uKGZpcmVzdG9yZURCLCAnY29tcGFueV9pbnNpZ2h0cycpLCB7XHJcbiAgICAgICAgY29tcGFueU5hbWU6IG5vcm1hbGl6ZWRDb21wYW55TmFtZSxcclxuICAgICAgICB0b3RhbFN1Ym1pc3Npb25zOiAxLFxyXG4gICAgICAgIGNvbW1vbkZsYWdzOiBzdWJtaXNzaW9uRGF0YS5tYXJrZWRGbGFncyxcclxuICAgICAgICBhdmVyYWdlRmxhZ0NvdW50OiBzdWJtaXNzaW9uRGF0YS5tYXJrZWRGbGFncy5sZW5ndGgsXHJcbiAgICAgICAgc2V2ZXJpdHlUcmVuZHM6IHN1Ym1pc3Npb25EYXRhLnNldmVyaXR5QnJlYWtkb3duLFxyXG4gICAgICAgIGxhc3RVcGRhdGVkOiBzZXJ2ZXJUaW1lc3RhbXAoKVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgY29tcGFueSBpbnNpZ2h0czonLCBlcnJvcik7XHJcbiAgICAvLyBEb24ndCB0aHJvdyBlcnJvciAtIGNvbXBhbnkgaW5zaWdodHMgdXBkYXRlIGlzIG5vdCBjcml0aWNhbFxyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRDb21wYW55SW5zaWdodHMgPSBhc3luYyAoY29tcGFueU5hbWU6IHN0cmluZyk6IFByb21pc2U8Q29tcGFueUluc2lnaHRzIHwgbnVsbD4gPT4ge1xyXG4gIGlmICghZmlyZXN0b3JlREIpIHtcclxuICAgIGNvbnNvbGUud2FybignRmlyZWJhc2Ugbm90IGluaXRpYWxpemVkLiBDYW5ub3QgZ2V0IGNvbXBhbnkgaW5zaWdodHMuJyk7XHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9XHJcbiAgXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRDb21wYW55TmFtZSA9IG5vcm1hbGl6ZUNvbXBhbnlOYW1lKGNvbXBhbnlOYW1lKTtcclxuICAgIFxyXG4gICAgY29uc3QgY29tcGFueVF1ZXJ5ID0gcXVlcnkoXHJcbiAgICAgIGNvbGxlY3Rpb24oZmlyZXN0b3JlREIsICdjb21wYW55X2luc2lnaHRzJyksXHJcbiAgICAgIHdoZXJlKCdjb21wYW55TmFtZScsICc9PScsIG5vcm1hbGl6ZWRDb21wYW55TmFtZSlcclxuICAgICk7XHJcbiAgICBcclxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKGNvbXBhbnlRdWVyeSk7XHJcbiAgICBcclxuICAgIGlmICghcXVlcnlTbmFwc2hvdC5lbXB0eSkge1xyXG4gICAgICByZXR1cm4gcXVlcnlTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKSBhcyBDb21wYW55SW5zaWdodHM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNvbXBhbnkgaW5zaWdodHM6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gVXRpbGl0eSBmdW5jdGlvbnNcclxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZUNvbXBhbnlOYW1lID0gKGlucHV0OiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBpbnB1dFxyXG4gICAgLnRyaW0oKVxyXG4gICAgLnRvTG93ZXJDYXNlKClcclxuICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJylcclxuICAgIC5yZXBsYWNlKC9bXlxcd1xccy1dL2csICcnKVxyXG4gICAgLnJlcGxhY2UoL1xcYihpbmN8Y29ycHxsbGN8bHRkfGNvfGNvbXBhbnkpXFxiL2csICcnKVxyXG4gICAgLnRyaW0oKTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVNlc3Npb25JZCA9ICgpOiBzdHJpbmcgPT4ge1xyXG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBoYXNoSVAgPSBhc3luYyAoaXA6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiA9PiB7XHJcbiAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xyXG4gIGNvbnN0IGRhdGEgPSBlbmNvZGVyLmVuY29kZShpcCk7XHJcbiAgY29uc3QgaGFzaEJ1ZmZlciA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuZGlnZXN0KCdTSEEtMjU2JywgZGF0YSk7XHJcbiAgY29uc3QgaGFzaEFycmF5ID0gQXJyYXkuZnJvbShuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKSk7XHJcbiAgcmV0dXJuIGhhc2hBcnJheS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcclxufTsgIl0sIm5hbWVzIjpbImluaXRpYWxpemVBcHAiLCJnZXRBcHBzIiwiZ2V0RmlyZXN0b3JlIiwiY29sbGVjdGlvbiIsImFkZERvYyIsInVwZGF0ZURvYyIsImRvYyIsImdldERvY3MiLCJxdWVyeSIsIndoZXJlIiwic2VydmVyVGltZXN0YW1wIiwiZmlyZWJhc2VDb25maWciLCJhcGlLZXkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSIsImF1dGhEb21haW4iLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiIsInByb2plY3RJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQiLCJzdG9yYWdlQnVja2V0IiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfU1RPUkFHRV9CVUNLRVQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX01FU1NBR0lOR19TRU5ERVJfSUQiLCJhcHBJZCIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FQUF9JRCIsImZpcmViYXNlQXBwIiwiZmlyZXN0b3JlREIiLCJpbml0aWFsaXplRmlyZWJhc2UiLCJleGlzdGluZ0FwcHMiLCJsZW5ndGgiLCJhcHAiLCJkYiIsImdldEZpcmViYXNlQXBwIiwiZ2V0RmlyZXN0b3JlREIiLCJ2YWxpZGF0ZUZpcmViYXNlQ29uZmlnIiwicmVxdWlyZWRLZXlzIiwibWlzc2luZ0tleXMiLCJmaWx0ZXIiLCJrZXkiLCJjb25zb2xlIiwiZXJyb3IiLCJsb2ciLCJ3YXJuIiwic3VibWl0SW50ZXJ2aWV3Q2hlY2t1cCIsImRhdGEiLCJFcnJvciIsInN1Ym1pc3Npb25EYXRhIiwidGltZXN0YW1wIiwiZG9jUmVmIiwiY29tcGFueU5hbWUiLCJ1cGRhdGVDb21wYW55SW5zaWdodHMiLCJpZCIsIm5vcm1hbGl6ZWRDb21wYW55TmFtZSIsIm5vcm1hbGl6ZUNvbXBhbnlOYW1lIiwiY29tcGFueVF1ZXJ5IiwicXVlcnlTbmFwc2hvdCIsImVtcHR5IiwiZG9jcyIsImV4aXN0aW5nRGF0YSIsInVwZGF0ZWREYXRhIiwidG90YWxTdWJtaXNzaW9ucyIsImNvbW1vbkZsYWdzIiwiQXJyYXkiLCJmcm9tIiwiU2V0IiwibWFya2VkRmxhZ3MiLCJhdmVyYWdlRmxhZ0NvdW50Iiwic2V2ZXJpdHlUcmVuZHMiLCJsaWdodCIsInNldmVyaXR5QnJlYWtkb3duIiwibWVkaXVtIiwibGFzdFVwZGF0ZWQiLCJnZXRDb21wYW55SW5zaWdodHMiLCJpbnB1dCIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsInJlcGxhY2UiLCJnZW5lcmF0ZVNlc3Npb25JZCIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImhhc2hJUCIsImlwIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiaGFzaEJ1ZmZlciIsImNyeXB0byIsInN1YnRsZSIsImRpZ2VzdCIsImhhc2hBcnJheSIsIlVpbnQ4QXJyYXkiLCJtYXAiLCJiIiwicGFkU3RhcnQiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./lib/firebase.ts\n");

/***/ })

};
;